{"version":3,"sources":["assets/placeholder.jpg","controller/services.js","controller/page-types.js","shared/Title.jsx","modules/header/PageTitle.jsx","shared/LoginButton.jsx","shared/MyPageButton.jsx","shared/PageInfoText.jsx","modules/header/TopMenu.jsx","modules/header/Header.jsx","shared/HomePageButton.jsx","controller/error-messages.js","modules/login/LoginForm.jsx","shared/CreateButtonSide.jsx","shared/ModalDialog.jsx","shared/CreateButtonDialog.jsx","shared/CancelButtonDialog.jsx","shared/MandatoryIcon.jsx","modules/to-add/NewCategoryForm.jsx","controller/sort.js","modules/to-add/CategorySelectMenu.jsx","modules/to-add/NewListForm.jsx","modules/sidebar/UserSideMenu.jsx","modules/sidebar/CategorySideMenu.jsx","modules/sidebar/SideBar.jsx","shared/SearchBar.jsx","modules/lists/ListTile.jsx","modules/lists/ListView.jsx","modules/content/IndexView.jsx","modules/lists/ListSortMenu.jsx","modules/content/UserPageView.jsx","modules/content/CategoryView.jsx","modules/lists/ListInfo.jsx","shared/EditButton.jsx","shared/CreateButtonMain.jsx","modules/lists/ListController.jsx","modules/items/ItemThumbnail.jsx","modules/items/ItemGroup.jsx","modules/content/ListDetailView.jsx","modules/content/ItemDetailView.jsx","modules/to-add/ListSelectMenu.jsx","modules/to-add/CatListSelectGroup.jsx","modules/to-add/NewItemForm.jsx","modules/content/MainContent.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","convertNetworkError","err","Promise","reject","code","convertServiceError","status","message","fetchLoginStatus","fetch","method","catch","then","response","ok","json","fetchCategories","username","fetchSingleCategory","categoryId","addCategory","category","headers","Headers","body","JSON","stringify","fetchListsBy","query","fetchSingleList","listId","addList","list","Object","freeze","INDEX","SINGLE_CAT","SINGLE_LIST","SINGLE_ITEM","POST_ITEM","EDIT_CAT","EDIT_LIST","EDIT_ITEM","USER_VIEW","USER_SELF","USER_SETTING","Title","className","children","onClick","PageTitle","mainTitle","subTitle","setPageView","reqData","view","pageType","LoginButton","text","MyPageButton","userState","PageInfoText","TopMenu","menu","onLogout","setLoginDialog","isLoggedIn","Header","HomePageButton","errorMessages","DEFAULT","NETWORK_ERROR","NO_VALID_SESSION","USERNAME_REQUIRED","USERNAME_DENIED","USER_UNAUTHORIZED","ACTION_NOT_PERMITTED","DUPLICATE_CAT_NAME","DUPLICATE_LIST_NAME","DUPLICATE_ITEM_NAME","CAT_NAME_DENIED","LIST_NAME_DENIED","ITEM_NAME_DENIED","NO_SUCH_ITEM","NO_SUCH_CAT","NO_SUCH_LIST","FAILED_TO_DELETE_CAT","ATTEMPT_TO_DELETE_DEFAULT","FORBIDDEN","INPUT_REQUIRED","NO_LIST_IN_CAT","TOO_MUCH_INPUT","TOO_MUCH_INPUT_LIST","LARGER_THAN_5","CLEAR","LoginForm","onLogin","openDialog","setDialog","useState","setUsername","error","setError","value","onChange","e","target","trim","fetchLogin","categoryName","responseJson","data","listName","description","addDefault","CreateButtonSide","ModalDialog","show","setShowDialog","CreateButtonDialog","CancelButtonDialog","MandatoryIcon","NewCategoryForm","updateMyPage","setCategoryName","useEffect","buttons","sort","sortBy","array","sortby","ascend","Array","isArray","a","b","toLowerCase","localeCompare","CategorySelectMenu","setCategoryId","onError","categories","setCategories","sortbyName","options","map","cat","key","NewListForm","setListName","setDescription","console","log","rows","cols","UserSideMenu","newCatDialog","newListDialog","newCatState","setNewCatState","newListState","setNewListState","CategorySideMenu","pageView","isOwner","setIsOwner","pageUser","categoryList","showEdit","content","listCount","goToCategory","SideBar","userPanel","categorySideMenu","homeButton","SearchBar","setKeywords","setText","placeholder","onKeyPress","keyCode","which","ListTile","thumbnails","items","values","length","slice","item","itemId","alt","itemName","src","img","goToItem","lastUpdated","Date","updated","toLocaleString","listCard","itemCount","ListView","listsContent","notFound","isAscend","filter","listData","displayLists","setDisplayLists","lists","includes","IndexView","setListData","keywords","listView","errorBox","ListSortMenu","setSortby","setIsAscend","sortCondition","setSortCondition","sortValue","parse","UserPageView","listSortMenu","CategoryView","collector","ListInfo","isEditMode","setIsEditMode","setUpdateList","oldCatId","listInfoPanel","editListPanel","newList","updateSingleList","EditButton","CreateButtonMain","ListController","isDisabled","isDeleteMode","setIsDeleteMode","buttonText","setButtonText","goToMyPage","editButton","addButton","deleteListButton","deleteSingleList","deleteItemsButton","disabled","ItemThumbnail","displayImg","deleteItem","ItemGroup","itemsDisplay","pageInfo","itemData","setIsDisabled","setItems","ListDetailView","setList","updateList","listInfo","itemGroup","listController","setErrorMessage","ItemDetailView","setItem","itemOwner","setItemOwner","fetchSingleItem","fetchListName","itemDetail","ListSelectMenu","setListId","selected","setSelected","CatListSelectGroup","listSelectMenu","listError","setListError","setLists","NewItemForm","setItemName","preview","setPreview","title","uploadImg","type","reader","FileReader","onload","result","readAsDataURL","files","inputArea","addItem","MainContent","App","setUserState","setTheme","loginDialogState","setLoginDialogState","theme","loginDialog","login","logout","setView","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"qGAAAA,EAAOC,QAAU,ulP,sKCAXC,G,MAAsB,SAACC,GAAD,OAASC,QAAQC,OAAO,CAAEC,KAAM,oBAEtDC,EAAsB,SAACJ,GAAD,OAC3BC,QAAQC,OAAO,CAAEG,OAAOL,EAAIK,OAAQF,KAAMH,EAAIM,WAElCC,EAAmB,WAC/B,OAAOC,MAAM,WAAY,CACrBC,OAAQ,QAEXC,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OAoEnBW,EAAkB,SAACC,GAC/B,OAAOR,MAAM,UAAD,OAAWQ,EAAX,eAAkC,CAC1CP,OAAQ,QAEXC,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OAMnBa,EAAsB,SAAC,GAA8B,IAA5BD,EAA2B,EAA3BA,SAAUE,EAAiB,EAAjBA,WAC/C,OAAOV,MAAM,UAAD,OAAWQ,EAAX,uBAAkCE,GAAc,CACxDT,OAAQ,QAEXC,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OAMnBe,EAAc,SAAC,GAA4B,IAA1BH,EAAyB,EAAzBA,SAAUI,EAAe,EAAfA,SACvC,OAAOZ,MAAM,UAAD,OAAWQ,EAAX,eAAkC,CAC1CP,OAAQ,OACRY,QAAS,IAAIC,QAAQ,CACjB,eAAgB,qBAEpBC,KAAMC,KAAKC,UAAU,CAAE,SAAYL,MAEtCV,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OAuEnBsB,EAAe,SAACC,GAC5B,OAAOnB,MAAM,oBAAD,OAAqBmB,GAAS,CACtClB,OAAQ,QAEXC,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OAMnBwB,EAAkB,SAACC,GAC/B,OAAOrB,MAAM,oBAAD,OAAqBqB,GAAU,CACvCpB,OAAQ,QAEXC,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OAMnB0B,EAAU,SAAC,GAAwB,IAAtBd,EAAqB,EAArBA,SAAUe,EAAW,EAAXA,KACnC,OAAOvB,MAAM,mBAAoB,CAC7BC,OAAQ,OACRY,QAAS,IAAIC,QAAQ,CACjB,eAAgB,qBAEpBC,KAAMC,KAAKC,UAAU,CAAE,SAAYT,EAAU,KAAQe,MAExDrB,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OCnNjB4B,SAAOC,OAdL,CACfC,MAAO,QACPC,WAAY,WACZC,YAAa,aACbC,YAAa,cACbC,UAAW,YACXC,SAAU,WACVC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,aAAc,iBCDDC,EARD,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,UAAWC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QACrC,OACC,yBAAKF,UAAWA,EAAWE,QAASA,GAClCD,ICaWE,EAdG,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,UAAWC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAMzC,OACC,yBAAKN,UAAU,cACd,kBAAC,EAAD,CAAOA,UAAU,aAAaE,QANd,WACjBI,EAAY,CAAEC,QAAQ,KAAMC,KAAKC,EAASrB,UAKYgB,GACrD,kBAAC,EAAD,CAAOJ,UAAU,aAAaK,KCHlBK,EARK,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,KAAMT,EAAc,EAAdA,QAC5B,OACC,4BAAQF,UAAU,eAAeE,QAAUA,GACzCS,ICYWC,EAdM,SAAC,GAA0C,IAAxCX,EAAuC,EAAvCA,SAAUY,EAA6B,EAA7BA,UAAWP,EAAkB,EAAlBA,YAO5C,OACC,4BAAQN,UAAU,iBAAiBE,QANjB,WAClB,IAAMK,EAAU,CAAErC,SAAU2C,EAAU3C,UACtCoC,EAAY,CAAEC,UAASC,KAAMC,EAASZ,cAKrC,uBAAGG,UAAU,kBAAb,UAAyCC,ICJ7Ba,EANM,SAAC,GAAkB,IAAhBb,EAAe,EAAfA,SACvB,OACC,yBAAKD,UAAU,aAAcC,IC2ChBc,EAxCC,SAAC,GAA0D,IAanEC,EAbWH,EAAuD,EAAvDA,UAAWI,EAA4C,EAA5CA,SAAUX,EAAkC,EAAlCA,YAAaY,EAAqB,EAArBA,eAiCpD,OAjBQF,EAFFH,EACIA,EAAUM,YAAcN,EAAU3C,SAC7B,6BACN,0BAAM8B,UAAU,gBAAhB,YAA8C,0BAAMA,UAAU,oBAAoBa,EAAU3C,UAC5F,kBAAC,EAAD,CACU2C,UAAYA,EACZP,YAAcA,GAFxB,WAIA,4BAAQJ,QApBK,WP2BfxC,MAAM,WAAY,CAClBC,OAAQ,WAEdC,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,MO/B1BO,MAAM,WACNoD,OAEArD,OAAO,SAACV,GACF+D,OAEJX,EAAY,CAAEC,QAAQ,KAAMC,KAAKC,EAASrB,SAYNY,UAAU,kBAA5C,YAGM,6BACN,kBAAC,EAAD,CAAaW,KAAK,SAAST,QAAU,kBAAMgB,GAAe,OAIrD,kBAAC,EAAD,mBAIb,yBAAKlB,UAAU,YACbgB,ICrBWI,EAjBA,SAAC,GAA0D,IAAxDP,EAAuD,EAAvDA,UAAWI,EAA4C,EAA5CA,SAAUX,EAAkC,EAAlCA,YAAaY,EAAqB,EAArBA,eACnD,OACC,yBAAKlB,UAAU,UACd,kBAAC,EAAD,CACCI,UAAU,kBACVC,SAAS,4CACTC,YAAgBA,IACjB,kBAAC,EAAD,CACCO,UAAYA,EACZI,SAAWA,EACXX,YAAcA,EACdY,eAAiBA,MCCNG,EAbQ,SAAC,GAA+B,IAA7BpB,EAA4B,EAA5BA,SAAUK,EAAkB,EAAlBA,YAMnC,OACC,4BAAQN,UAAU,mBAAmBE,QALvB,WACdI,EAAY,CAAEC,QAAQ,KAAMC,KAAMC,EAASrB,UAK1C,uBAAGY,UAAU,kBAAb,QAAuCC,ICyB3BqB,EApCO,CACpBC,QAAQ,iDACRC,cAAc,8DACdC,iBAAiB,iFAEjBC,kBAAkB,uBAClBC,gBAAgB,+HAEhBC,kBAAkB,uEAClBC,qBAAqB,yEAErBC,mBAAmB,sDACnBC,oBAAoB,mEACpBC,oBAAoB,+DAEpBC,gBAAgB,oIAChBC,iBAAiB,+CACjBC,iBAAiB,+CAEjBC,aAAa,mDACbC,YAAY,wDACZC,aAAa,4EAEbC,qBAAqB,8BACrBC,0BAA0B,wCAC1BC,UAAU,mBAEVC,eAAe,uCACfC,eAAe,+EACfC,eAAe,mDACfC,oBAAoB,kDACpBC,cAAc,yCAEdC,MAAM,ICwCOC,EAnEG,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,QAASC,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,UAAW7C,EAAkB,EAAlBA,YAAkB,EAEnC8C,mBAAS,IAF0B,mBAE7DlF,EAF6D,KAEnDmF,EAFmD,OAGzCD,mBAAS,IAHgC,mBAG7DE,EAH6D,KAGtDC,EAHsD,KA8CrE,OACI,yBAAKvD,UAAU,cACb,yBAAKA,UAAU,gBAAf,UACA,uBAAGA,UAAU,iBAAb,uDACA,uBAAGA,UAAU,SAAUsD,GACvB,6BACE,6CACA,yBAAKtD,UAAU,qBACb,yBAAKA,UAAU,qBACb,uBAAGA,UAAU,8BAAb,WAEF,2BAAOA,UAAU,cAAcwD,MAAOtF,EACtCuF,SAAW,SAACC,GAAD,OAAOL,EAAYK,EAAEC,OAAOH,MAAMI,YAE/C,kBAAC,EAAD,CAAajD,KAAK,SAAST,QAvCd,WACfhC,GAIJqF,EAAS,IXda,SAACrF,GAC1B,OAAOR,MAAM,WAAY,CACrBC,OAAQ,OACRY,QAAS,IAAIC,QAAQ,CACjB,eAAgB,qBAEpBC,KAAMC,KAAKC,UAAU,CAAET,eAE1BN,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,MWI5BuG,CAAW3F,GACVL,MAAM,YAvBU,SAACK,GAClB,OAAOG,EAAY,CAAEH,WAAUI,SAAU,CAAEwF,aAAc,aAClDjG,MAAM,SAACkG,GACN,IAAM3F,EAAa2F,EAAaC,KAAK5F,WACrC,OAAOY,EAAQ,CAAEd,WAAUe,KAAK,CAAEgF,SAAS,UAAWC,YAAY,GAAI9F,mBAEvER,OAAO,gBAkBZuG,CAAWjG,GACVL,MAAM,WACFqF,GACDC,GAAU,GAdhB7C,EAAY,CAAEC,QAAQ,CAACrC,YAAWsC,KAAKC,EAASZ,YAiB5C0D,EAAS,IACTN,EAAQ/E,SAGXN,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,YACnCgG,EAAY,QAlBZE,EAASjC,EAAcI,yBCnBd0C,EARU,SAAC,GAAuB,IAArBzD,EAAoB,EAApBA,KAAMT,EAAc,EAAdA,QACjC,OACC,4BAAQF,UAAU,qBAAqBE,QAAUA,GAChD,uBAAGF,UAAU,kBAAb,OAAsCW,ICc1B0D,EAjBK,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,cAAetE,EAAe,EAAfA,SAM1C,OACI,yBAAKD,UAAW,UAAYsE,EAAM,GAAK,WACrC,yBAAKtE,UAAU,iBACb,uBAAGA,UAAU,2BAA2BE,QAP7B,WACjBqE,GAAc,KAMR,SACCtE,KCFIuE,EARY,SAAC,GAAuB,IAArB7D,EAAoB,EAApBA,KAAMT,EAAc,EAAdA,QACnC,OACC,4BAAQF,UAAU,uBAAuBE,QAAUA,GACjDS,ICKW8D,EARY,SAAC,GAAuB,IAArB9D,EAAoB,EAApBA,KAAMT,EAAc,EAAdA,QACnC,OACC,4BAAQF,UAAU,uBAAuBE,QAAUA,GACjDS,ICGW+D,EANO,WACrB,OACC,0BAAM1E,UAAU,kBAAhB,MC4Da2E,EAxDS,SAAC,GAAmE,IAAjE9D,EAAgE,EAAhEA,UAAWsC,EAAqD,EAArDA,UAAW7C,EAA0C,EAA1CA,YAA0C,KAA7BsE,aAA6B,EAAf3D,SAE9CmC,mBAAS,KAFoD,mBAEjFE,EAFiF,KAE1EC,EAF0E,OAG/CH,mBAAS,IAHsC,mBAGjFU,EAHiF,KAGnEe,EAHmE,KAKzFC,qBAAW,WACTvB,EAAS,IACT9F,IACCI,MAAM,SAAAkG,GACFA,EAAaC,KAAK9F,WAAa2C,EAAU3C,UAC1CqF,EAASjC,EAAcO,yBAG1BjE,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,iBAErC,IAEF,IAkBM0H,EAAW,yBAAK/E,UAAU,kBACtB,kBAAC,EAAD,CAAoBW,KAAK,SAAST,QAnBrB,WACjB4D,GAAiBA,EAAaF,QAIlCL,EAAS,IACTlF,EAAY,CAAEH,SAAU2C,EAAU3C,SAAUI,SAAS,CAAEwF,aAAaA,KACnEjG,MAAM,WAEL,IAAM0C,EAAU,CAAErC,SAAU2C,EAAU3C,UACtCoC,EAAY,CAAEC,UAASC,KAAKC,EAASZ,YACrCsD,GAAU,MAEXvF,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,gBAZnCkG,EAASjC,EAAcoB,mBAkBjB,kBAAC,EAAD,CAAoB/B,KAAK,SAAST,QAAU,kBAAMiD,GAAU,OAGtE,OACI,yBAAKnD,UAAU,mBACb,yBAAKA,UAAU,gBAAf,uBACA,uBAAGA,UAAU,iBAAb,6CACA,uBAAGA,UAAU,SAAUsD,GACvB,6BACE,kBAAC,EAAD,MAAiB,kDACjB,2BAAOE,MAAOM,EAAcL,SAAW,SAACC,GAAD,OAAOmB,EAAgBnB,EAAEC,OAAOH,UACtEuB,KCrBIC,EApCF,CAEXC,OAAS,YAAwC,IAArCC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,OAA6B,IAArBC,cAAqB,SAC9C,GAAGC,MAAMC,QAAQJ,GACf,OAAQC,GACN,IAAK,eACL,IAAK,WACL,IAAK,WACL,IAAK,QACD,OAAGC,EACMF,EAAMF,MAAM,SAACO,EAAGC,GAAJ,OAAWD,EAAEJ,GAAQM,cAAeC,cAAcF,EAAEL,GAAQM,kBAExEP,EAAMF,MAAM,SAACO,EAAGC,GAAJ,OAAWA,EAAEL,GAAQM,cAAeC,cAAcH,EAAEJ,GAAQM,kBAErF,IAAK,UACL,IAAK,UACL,IAAK,YACL,IAAK,YACL,IAAK,cACL,IAAK,gBACL,IAAK,OACL,IAAK,QACH,OAAGL,EACMF,EAAMF,MAAM,SAACO,EAAGC,GAAJ,OAAUD,EAAEJ,GAAUK,EAAEL,MAEpCD,EAAMF,MAAM,SAACO,EAAGC,GAAJ,OAAUA,EAAEL,GAAUI,EAAEJ,MAE/C,QACE,OAAOD,KCqBFS,EA7CY,SAAC,GAAsD,IAApDzH,EAAmD,EAAnDA,SAAUE,EAAyC,EAAzCA,WAAYwH,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,QAAc,EAEvCzC,mBAAS,MAF8B,mBAErE0C,EAFqE,KAEzDC,EAFyD,KAI7EjB,qBAAW,WACV7G,EAAgBC,GAClBL,MAAM,SAAAkG,GACC,IAAMiC,EAAahB,EAAKC,OAAO,CAAEC,MAAMnB,EAAaC,KAAMmB,OAAQ,eAAgBC,QAAQ,IAC1FW,EAAcC,MAElBpI,OAAO,SAACV,GACN2I,EAAQ3I,QAEV,CAACgB,GAAW2H,GAEdf,qBAAW,YACH1G,GAAc0H,GACdF,EAAcE,EAAW,GAAG1H,cAElC,CAAC0H,IAEH,IAII9E,EACJ,GAAG8E,EAAW,CACb,IAAMG,EAAUH,EAAWI,KAAK,SAACC,GAChC,OAAO,4BAAQC,IAAKD,EAAI/H,WAAYoF,MAAO2C,EAAI/H,YAAa+H,EAAIrC,iBAEjE9C,EAAQ,4BAAQhB,UAAU,aAAawD,MAAQpF,EAAaqF,SATxC,SAACC,GAClBkC,EAAclC,EAAEC,OAAOH,SASbyC,QAGbjF,EAAO,iCAIX,OACC,yBAAKhB,UAAU,gBACbgB,ICsCWqF,EAzEK,SAAC,GAAmE,IAAjExF,EAAgE,EAAhEA,UAAWsC,EAAqD,EAArDA,UAAW7C,EAA0C,EAA1CA,YAA0C,KAA7BsE,aAA6B,EAAf3D,SAE1CmC,mBAAS,KAFgD,mBAE7EE,EAF6E,KAEtEC,EAFsE,OAGnDH,mBAAS,IAH0C,mBAG7Ea,EAH6E,KAGnEqC,EAHmE,OAI7ClD,mBAAS,IAJoC,mBAI7Ec,EAJ6E,KAIhEqC,EAJgE,OAK/CnD,mBAAS,IALsC,mBAK7EhF,EAL6E,KAKjEwH,EALiE,KAOrFd,qBAAW,WACTvB,EAAS,IACT9F,IACCI,MAAM,SAAAkG,GACLyC,QAAQC,IAAI,SAAU1C,EAAaC,KAAK9F,UACxCsI,QAAQC,IAAI,aAAc5F,EAAU3C,UACjC6F,EAAaC,KAAK9F,WAAa2C,EAAU3C,UAC1CqF,EAASjC,EAAcO,yBAG1BjE,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,iBAErC,IAEF,IAuBM0H,EAAW,yBAAK/E,UAAU,kBACtB,kBAAC,EAAD,CAAoBW,KAAK,SAAST,QAxBzB,WACb+D,GAAaA,EAASL,QAI1BL,EAAS,IACTvE,EAAQ,CAAEd,SAAU2C,EAAU3C,SAAUe,KAAK,CAAEgF,WAAUC,cAAa9F,gBACrEP,MAAM,WAEL,IAAM0C,EAAU,CAAErC,SAAU2C,EAAU3C,UACtCoC,EAAY,CAAEC,UAASC,KAAKC,EAASZ,YAErCsD,GAAU,MAEXvF,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,gBAbnCkG,EAASjC,EAAcoB,mBAuBjB,kBAAC,EAAD,CAAoB/B,KAAK,SAAST,QAAU,kBAAMiD,GAAU,OAGtE,OACI,yBAAKnD,UAAU,mBACb,yBAAKA,UAAU,gBAAf,mBACA,uBAAGA,UAAU,iBAAb,4CACA,uBAAGA,UAAU,SAASsD,GACtB,6BACC,2BAAOtD,UAAU,cAAa,kBAAC,EAAD,MAA9B,eACC,2BAAOA,UAAU,iBAAiByD,SAAW,SAACC,GAAD,OAAO4C,EAAY5C,EAAEC,OAAOH,UACzE,2BAAOxD,UAAU,cAAjB,cACA,kBAAC,EAAD,CACE9B,SAAW2C,EAAU3C,SACrB0H,cAAgBA,EAChBC,QArBW,SAAC3I,GACpBqG,EAASjC,EAAcpE,EAAIG,MAAQ,eAsB7B,2BAAO2C,UAAU,cAAjB,iBACA,8BAAU0G,KAAK,IAAIC,KAAK,KAAKnD,MAAOU,EAAaT,SAAW,SAACC,GAAD,OAAO6C,EAAe7C,EAAEC,OAAOH,UAC1FuB,KCnBI6B,EA/CM,SAAC,GAA0C,IAK3DC,EACAC,EANmBjG,EAAuC,EAAvCA,UAAWP,EAA4B,EAA5BA,YAAaW,EAAe,EAAfA,SAAe,EAEvBmC,oBAAS,GAFc,mBAEtD2D,EAFsD,KAEzCC,EAFyC,OAGnB5D,oBAAS,GAHU,mBAGpD6D,EAHoD,KAGtCC,EAHsC,KAO3DH,IACDF,EAAgB,kBAAC,EAAD,CAAavC,KAAOyC,EAAcxC,cAAgByC,GAC3D,kBAAC,EAAD,CACCnG,UAAYA,EACZsC,UAAY6D,EACZ1G,YAAcA,EACdW,SAAWA,MAIlBgG,IACDH,EAAiB,kBAAC,EAAD,CAAaxC,KAAO2C,EAAe1C,cAAgB2C,GAC7D,kBAAC,EAAD,CACCrG,UAAYA,EACZsC,UAAY+D,EACZ5G,YAAcA,EACdW,SAAWA,MASrB,OACC,yBAAKjB,UAAU,sBACd,kBAAC,EAAD,CAAkBW,KAAK,eAAeT,QAAU,kBAAM8G,GAAe,MACrE,kBAAC,EAAD,CAAkBrG,KAAK,WAAWT,QAAU,kBAAMgH,GAAgB,MAClE,kBAAC,EAAD,CAAkBvG,KAAK,WAAWT,QARnB,WAChBI,EAAY,CAAEC,QAAQ,KAAMC,KAAKC,EAASjB,eAQzC,kBAAC,EAAD,CACCqB,UAAYA,EACZP,YAAcA,GAFf,WAICuG,EACKC,ICqBMK,EAjEU,SAAC,GAA0C,IAAxCtG,EAAuC,EAAvCA,UAAWuG,EAA4B,EAA5BA,SAAU9G,EAAkB,EAAlBA,YAAkB,EAE3B8C,mBAAS,MAFkB,mBAEzD0C,EAFyD,KAE7CC,EAF6C,OAGlC3C,oBAAS,GAHyB,mBAGzDiE,EAHyD,KAGhDC,EAHgD,KAKjExC,qBAAW,WACT,GAAGsC,EAAS7G,QAAQ,CAClB,IAAMgH,EAAWH,EAAS7G,QAAQrC,SAClCoJ,EAAWzG,EAAU3C,WAAaqJ,GAClCtJ,EAAgBsJ,GACf1J,MAAM,SAAAkG,GACHgC,EAAcf,EAAKC,OAAO,CAAEC,MAAMnB,EAAaC,KAAMmB,OAAO,eAAgBC,QAAO,QAEtFxH,OAAO,SAACV,UAIV,CAACkK,EAAUvG,IAEd,IAUI2G,EAcAC,EAKAC,EAQJ,OA1BG5B,IACD0B,EAAe1B,EAAWI,KAAK,YAAwD,IAArDhI,EAAoD,EAApDA,SAAUE,EAA0C,EAA1CA,WAAY0F,EAA8B,EAA9BA,aAAc6D,EAAgB,EAAhBA,UACpE,OACE,wBACEvB,IAAKhI,EACL4B,UAAU,OACVE,QAAU,kBAjBG,SAAC,GAA4C,IAA1ChC,EAAyC,EAAzCA,SAAUE,EAA+B,EAA/BA,WAAY0F,EAAmB,EAAnBA,aAE5CxD,EAAY,CAAEC,QADE,CAAErC,WAAUE,aAAY0F,gBACjBtD,KAAKC,EAASpB,aAefuI,CAAa,CAAE1J,WAAUE,aAAY0F,mBACpDA,EAJH,IAIkB6D,EAJlB,SAWHN,IACDI,EAAW,wBAAIzH,UAAU,gBAAgBE,QArBlB,WACvB,IAAMK,EAAU,CAAErC,SAAU2C,EAAU3C,UACtCoC,EAAY,CAAEC,UAASC,KAAKC,EAAShB,aAmB1B,kBAIVqG,IACD4B,EAAW,yBAAK1H,UAAU,kBAClB,kBAAC,EAAD,CAAOA,UAAU,kBAAkBoH,EAAS7G,QAAQrC,SAApD,iBACA,wBAAI8B,UAAU,kBAAkBwH,EAAcC,KAKtD,6BACE,yBAAKzH,UAAU,kBACZ0H,KCVMG,EA/CC,SAAC,GAA6D,IAEzEC,EAkBAC,EASAC,EA7BcnH,EAA0D,EAA1DA,UAAWoC,EAA+C,EAA/CA,QAASmE,EAAsC,EAAtCA,SAAU9G,EAA4B,EAA5BA,YAAaW,EAAe,EAAfA,SAsC7D,OA5BE6G,EANCjH,EACEA,EAAUM,WAKD,kBAAC,EAAD,CACXN,UAAYA,EACZP,YAAcA,EACdW,SAAWA,IAPA,kBAAC,EAAD,CACXgC,QAAUA,EACV3C,YAAcA,IASJ,kBAAC,EAAD,mBAIV8G,EAAS5G,OAASC,EAASb,WAAawH,EAAS5G,OAASC,EAASZ,YACrEkI,EAAmB,kBAAC,EAAD,CACjBlH,UAAYA,EACZuG,SAAWA,EACX9G,YAAcA,KAKd8G,EAAS5G,OAASC,EAASrB,QAC7B4I,EAAa,yBAAKhI,UAAU,kBAC1B,kBAAC,EAAD,CAAgBM,YAAcA,GAA9B,UAOF,yBAAKN,UAAU,YACb8H,EACAE,EACAD,ICzBWE,EAxBG,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAAkB,EAEX9E,mBAAS,IAFE,mBAE7BzC,EAF6B,KAEvBwH,EAFuB,KAWrC,OACI,yBAAKnI,UAAU,cACb,2BACCA,UAAU,mBACVoI,YAAY,qBACZ3E,SAAW,SAACC,GAAD,OAAOyE,EAAQzE,EAAEC,OAAOH,QACnC6E,WAbgB,SAAC3E,GAEV,MADAA,EAAE4E,SAAW5E,EAAE6E,QAE1BL,EAAYvH,MAWT,uBAAGX,UAAU,6BAA6BE,QAAU,kBAAMgI,EAAYvH,KAAtE,Y,OC8DO6H,EA5EE,SAAC,GAAoC,IAAlCvJ,EAAiC,EAAjCA,KAAMqB,EAA2B,EAA3BA,YAAauF,EAAc,EAAdA,QAAc,EAETzC,mBAAS,IAFA,mBAE3CU,EAF2C,KAE7Be,EAF6B,KAInDC,qBAAW,WACT3G,EAAoB,CAAED,SAAUe,EAAKf,SAAUE,WAAYa,EAAKb,aAC/DP,MAAM,SAAAkG,GACDc,EAAgBd,EAAaC,KAAKF,iBAEvClG,OAAO,SAACV,GACP2I,EAAQ3I,SAIZ,IAoBIuL,EACJ,GAAGxJ,EAAK,CACN,IAAMyJ,EAAQxJ,OAAOyJ,OAAO1J,EAAKyJ,OACjC,GAAGA,EAAME,OACP5D,EAAKC,OAAO,CAAEC,MAAOwD,EAAOvD,OAAO,UAAWC,QAAQ,IAEtDqD,EADiBC,EAAMG,MAAM,EAAE,GACT3C,KAAK,SAAA4C,GACzB,OACE,wBAAI1C,IAAK0C,EAAKC,QACZ,yBACE/I,UAAU,qBACVgJ,IAAMF,EAAKG,SACXC,IAAMJ,EAAKK,IACXjJ,QAAU,kBAlBL,SAAC6I,GAChB,IAAMxI,EAAU,CAAExB,OAAOE,EAAKF,OAAQgK,UACtCzI,EAAY,CAAEC,UAASC,KAAKC,EAASlB,cAgBX6J,CAASN,EAAKC,eAO1C,IACMM,EADO,IAAIC,KAAKrK,EAAKsK,SACFC,eAAe,SAElCC,EACA,6BACE,yBAAKzJ,UAAU,kBAAkBE,QAxCxB,WACf,IAAMK,EAAU,CAAErC,SAASe,EAAKf,SAAUa,OAAOE,EAAKF,QACtDuB,EAAY,CAAEC,UAASC,KAAKC,EAASnB,gBAsCwBL,EAAKgF,UAC5D,yBAAKjE,UAAU,yBAAf,YAAgD,0BAAMA,UAAU,sBAAsBE,QA9CzE,WACnB,IAAMK,EAAU,CAAErC,SAASe,EAAKf,SAAUE,WAAYa,EAAKb,WAAY0F,gBACvExD,EAAY,CAAEC,UAASC,KAAKC,EAASpB,eA4CiFyE,IAChH,yBAAK9D,UAAU,yBAAf,QAA4C,0BAAMA,UAAU,sBAAsBE,QArCzE,WACf,IAAMK,EAAU,CAAErC,SAAUe,EAAKf,UACjCoC,EAAY,CAAEC,UAASC,KAAKC,EAASb,cAmCyEX,EAAKf,WAC7G,wBAAI8B,UAAU,sBACXyI,GAEH,yBAAKzI,UAAU,kBAAf,eAA4C,0BAAMA,UAAU,mBAAmBf,EAAKyK,YACpF,yBAAK1J,UAAU,kBAAf,iBAA+CqJ,IAIvD,OACM,wBAAIrJ,UAAU,aAAcyJ,IC1BrBE,EA9CE,SAAC,GAAkE,IAmB9EC,EAYAC,EA/Bc1E,EAA+D,EAA/DA,OAAQ2E,EAAuD,EAAvDA,SAAUC,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,SAAU1J,EAA2B,EAA3BA,YAAauF,EAAc,EAAdA,QAAc,EAEvCzC,mBAAS,MAF8B,mBAEzE6G,EAFyE,KAE3DC,EAF2D,KAqCjF,OAjCApF,qBAAW,WACT,GAAGkF,EAAU,CACX,IAAIG,EAAQH,EACTD,IACDI,EAAQH,EAASD,QAAQ,SAAA9K,GAAI,OAAIA,EAAKgF,SAASwB,cAAc2E,SAASL,EAAOtE,mBAE5EN,IACDH,EAAKC,OAAO,CAAEC,MAAOiF,EAAOhF,SAAQC,OAAO0E,IAE3CK,EAAK,YAAOA,IAEdD,EAAgBC,MAEjB,CAACH,EAAUD,EAAQ5E,EAAQ2E,IAG3BG,IACDL,EAAeK,EAAa/D,KAAK,SAACjH,GAChC,OAAO,kBAAC,EAAD,CACPmH,IAAKnH,EAAKF,OACVE,KAAOA,EACPqB,YAAcA,EACduF,QAAUA,QAMXkE,IAAWE,EAAarB,SACzBiB,EAAW,kBAAC,EAAD,0EAKT,yBAAK7J,UAAU,iBACb,gCAAM4J,EAAN,KACCC,ICaMQ,EApDG,SAAC,GAAqB,IAAnB/J,EAAkB,EAAlBA,YAAkB,EAET8C,mBAAS,IAFA,mBAE7BE,EAF6B,KAEtBC,EAFsB,OAGJH,mBAAS,MAHL,mBAG7B4G,EAH6B,KAGnBM,EAHmB,OAIJlH,mBAAS,IAJL,mBAI7BmH,EAJ6B,KAInBrC,EAJmB,KAMrCpD,qBAAW,WACTvB,EAAS,I3BmKL7F,MAAM,mBAAoB,CAC7BC,OAAQ,QAEXC,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,M2BvK3BO,MAAM,SAAAkG,GACLuG,EAAYvG,EAAaC,SAE1BpG,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,iBAEpC,IAEH,IAIImN,EAaAC,EAQJ,OApBGT,IACDQ,EAAY,kBAAC,EAAD,CACNrF,OAAS,UACT2E,UAAW,EACXE,SAAWA,EACXD,OAASQ,EACTjK,YAAcA,EACduF,QAZgB,SAAC3I,GACrBqG,EAASjC,EAAcpE,EAAIG,MAAQ,gBAiBvCoN,EAAY,6BACF,yBAAKzK,WAAasD,EAAO,GAAK,UAAY,cACtC,yBAAKtD,UAAU,eAAf,UACCsD,IAKX,6BACGmH,EACD,kBAAC,EAAD,CAAWvC,YAAcA,IACxBsC,ICrBME,EA7BM,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,YAAkB,EAELxH,mBAAS,0CAFJ,mBAEzCyH,EAFyC,KAE1BC,EAF0B,KAIjDhG,qBAAW,WACP,IAAMiG,EAAYrM,KAAKsM,MAAMH,GAC7BF,EAAUI,EAAU5F,QACpByF,EAAYG,EAAU3F,UACxB,CAACyF,EAAeF,EAAWC,IAM7B,OACI,yBAAK5K,UAAU,iBACX,4CACA,4BAAQwD,MAAQqH,EAAgBpH,SAPnB,SAACC,GAClBoH,EAAiBpH,EAAEC,OAAOH,SAOlB,4BAAQA,MAAM,0CAAd,uBACA,4BAAQA,MAAM,2CAAd,wBACA,4BAAQA,MAAM,0CAAd,gBACA,4BAAQA,MAAM,0CAAd,eACA,4BAAQA,MAAM,4CAAd,iBC6DDyH,EA9EM,SAAC,GAAoD,IAAlDpK,EAAiD,EAAjDA,UAAWuG,EAAsC,EAAtCA,SAAU9G,EAA4B,EAA5BA,YAAaW,EAAe,EAAfA,SAAe,EAE3CmC,mBAAS,IAFkC,mBAE/DE,EAF+D,KAExDC,EAFwD,OAGxCH,oBAAS,GAH+B,mBAG/DiE,EAH+D,KAGtDC,EAHsD,OAItClE,mBAAS,MAJ6B,mBAI/D4G,EAJ+D,KAIrDM,EAJqD,OAKzClH,mBAAS,WALgC,mBAK/D+B,EAL+D,KAKvDwF,EALuD,OAMrCvH,oBAAS,GAN4B,mBAM/D0G,EAN+D,KAMrDc,EANqD,KAQvE9F,qBAAW,WACT,GAAGsC,EAAS7G,QAAQ,CAClB,IAAMgH,EAAWH,EAAS7G,QAAQrC,SAC5BW,EAAK,mBAAe0I,GAC1BhE,EAAS,IACT3E,EAAaC,GACZhB,MAAM,SAAAkG,GACLuG,EAAYvG,EAAaC,SAE1BpG,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,YACjB,MAAfH,EAAIK,QACL0D,UAIL,CAACmG,IAEJtC,qBAAU,WACLsC,EAAS7G,SACV+G,EAAWzG,EAAU3C,WAAakJ,EAAS7G,QAAQrC,YAErD,CAACkJ,EAAUvG,IAEb,IAIIqK,EACD7D,IACD6D,EAAe,kBAAC,EAAD,CACTP,UAAYA,EACZC,YAAcA,KAItB,IAQIlD,EASA+C,EAjBAD,EAAY,kBAAC,EAAD,CACRrF,OAASA,EACT2E,SAAWA,EACXE,SAAWA,EACX1J,YAAcA,EACduF,QAjBgB,SAAC3I,GACrBqG,EAASjC,EAAcpE,EAAIG,MAAQ,eAoCvC,OAhBG2M,IACDtC,EAAU,6BACN,kBAAC,EAAD,CAAO1H,UAAU,cAAcoH,EAAS7G,QAAQrC,SAAhD,kBACCgN,EACAV,IAKPC,EAAY,6BACF,yBAAKzK,WAAasD,EAAO,GAAK,UAAY,cACtC,yBAAKtD,UAAU,eAAf,UACCsD,IAKX,6BACGmH,EACA/C,IChBMyD,EAzDM,SAAC,GAAmD,EAAjDtK,UAAkD,IAAvCuG,EAAsC,EAAtCA,SAAU9G,EAA4B,EAA5BA,YAAaW,EAAe,EAAfA,SAAe,EAE3CmC,mBAAS,IAFkC,mBAE/DE,EAF+D,KAExDC,EAFwD,OAGtCH,mBAAS,MAH6B,mBAG/D4G,EAH+D,KAGrDM,EAHqD,KAIjEc,EAAYhE,EAAS7G,QAAQrC,SAC7B4F,EAAesD,EAAS7G,QAAQuD,aAEtCgB,qBAAW,WACT,IAAM1G,EAAagJ,EAAS7G,QAAQnC,WAC9BS,EAAK,qBAAiBT,GAC5BmF,EAAS,IACT3E,EAAaC,GACZhB,MAAM,SAAAkG,GACLuG,EAAYvG,EAAaC,SAE1BpG,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,YACjB,MAAfH,EAAIK,QACL0D,SAGH,CAACmG,IAEJ,IAIIM,EAYA+C,EASJ,OApBGT,IACDtC,EAAW,6BACH,kBAAC,EAAD,CAAO1H,UAAU,cAAcoL,EAA/B,MAA6CtH,EAA7C,gBACA,kBAAC,EAAD,CACEkG,SAAWA,EACX1J,YAAcA,EACduF,QAXY,SAAC3I,GACrBqG,EAASjC,EAAcpE,EAAIG,MAAQ,iBAgBvCoN,EAAY,6BACF,yBAAKzK,WAAasD,EAAO,GAAK,UAAY,cACtC,yBAAKtD,UAAU,eAAf,UACCsD,IAMX,6BACGmH,EACA/C,I,OC0CM2D,EA5FE,SAAC,GAAkG,IAAhGxK,EAA+F,EAA/FA,UAAoB5B,GAA2E,EAApFoI,QAAoF,EAA3EpI,MAAMqM,EAAqE,EAArEA,WAAYC,EAAyD,EAAzDA,cAAejL,EAA0C,EAA1CA,YAAakL,EAA6B,EAA7BA,cAAe3F,EAAc,EAAdA,QAE7F4F,EAAWxM,EAAKb,WAF2F,EAG/EgF,mBAASnE,EAAKgF,UAHiE,mBAGzGA,EAHyG,KAG/FqC,EAH+F,OAI3ElD,mBAASnE,EAAKb,YAJ6D,mBAIzGA,EAJyG,KAI7FwH,EAJ6F,OAKvExC,mBAAS,IAL8D,mBAKzGU,EALyG,KAK3Fe,EAL2F,OAMzEzB,mBAASnE,EAAKiF,aAN2D,mBAMzGA,EANyG,KAM5FqC,EAN4F,KAQjHzB,qBAAW,WACT3G,EAAoB,CAAED,SAASe,EAAKf,SAAUE,WAAYa,EAAKb,aAC9DP,MAAM,SAAAkG,GACLc,EAAgBd,EAAaC,KAAKF,iBAEnClG,OAAO,SAACV,GACPsJ,QAAQC,IAAI,0BACZZ,EAAQ3I,QAET,CAAC+B,EAAM4G,IAEV,IAwCM6F,EAAiB,6BACrB,kBAAC,EAAD,CAAO1L,UAAU,gCAAgCf,EAAKgF,UACtD,yBAAKjE,UAAU,yBAAf,YAAgD,0BAAMA,UAAU,sBAAsBE,QA1CnE,WACnB,IAAMK,EAAU,CAAErC,SAASe,EAAKf,SAAUE,WAAYa,EAAKb,WAAY0F,aAAcA,GACrFxD,EAAY,CAAEC,UAASC,KAAKC,EAASpB,eAwC2EyE,IAChH,yBAAK9D,UAAU,yBAAf,QAA4C,0BAAMA,UAAU,sBAAsBE,QAtCnE,WACf,IAAMK,EAAU,CAAErC,SAAUe,EAAKf,UACjCoC,EAAY,CAAEC,UAASC,KAAKC,EAASb,cAoCmEX,EAAKf,WAC7G,yBAAK8B,UAAU,oBAAoBf,EAAKiF,cAGpCyH,EAAiB,6BACrB,2BAAOnI,MAAQS,EAAWjE,UAAU,oBAAoByD,SAAW,SAACC,GAAD,OAAO4C,EAAY5C,EAAEC,OAAOH,UAC/F,kBAAC,EAAD,CACEtF,SAAW2C,EAAU3C,SACrBE,WAAaA,EACbwH,cAAgBA,EAChBC,QAAUA,IAEZ,8BAAU7F,UAAU,4BAClBwD,MAAOU,EACPT,SAAW,SAACC,GAAD,OAAO6C,EAAe7C,EAAEC,OAAOH,UAC5C,kBAAC,EAAD,CAAoB7C,KAAK,SAAST,QAhDhB,WAClB,GAAI+D,GAAaA,EAASL,OAA1B,CAIA,IAAM1F,EAAW2C,EAAU3C,SACrB0N,EAAO,eACR3M,EADQ,CAEXgF,WACAC,cACA9F,gB/ByL0B,SAAC,GAA0C,IAAxCF,EAAuC,EAAvCA,SAAUuN,EAA6B,EAA7BA,SAAU1M,EAAmB,EAAnBA,OAAQE,EAAW,EAAXA,KAC9D,OAAOvB,MAAM,oBAAD,OAAqBqB,GAAU,CACvCpB,OAAQ,MACRY,QAAS,IAAIC,QAAQ,CACjB,eAAgB,qBAEpBC,KAAMC,KAAKC,UAAU,CAAE,SAAYT,EAAU,SAAWuN,EAAU,KAAQxM,MAE7ErB,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,O+BjM5BuO,CAAiB,CAAE3N,WAAUuN,WAAU1M,OAAOE,EAAKF,OAAQE,KAAK2M,IAC/D/N,MAAM,WAEL0N,GAAc,GACdC,OAED5N,OAAO,SAACV,GACPsJ,QAAQC,IAAI,4BACZZ,EAAQ3I,WAnBR2I,EAAQ,CAAExI,KAAK,sBA+CjB,kBAAC,EAAD,CAAoBsD,KAAK,SAAST,QAxBjB,WACjB2F,EAAQ,CAAExI,KAAM,UAChBkO,GAAc,OAyBhB,OACI,yBAAKvL,UAAU,aACXsL,EACAK,EACAD,IClFKI,EARI,SAAC,GAAuB,IAArBnL,EAAoB,EAApBA,KAAMT,EAAc,EAAdA,QAC3B,OACC,4BAAQF,UAAU,cAAcE,QAAUA,GACzC,uBAAGF,UAAU,kBAAb,QAAuCW,ICK3BoL,EARU,SAAC,GAAuB,IAArBpL,EAAoB,EAApBA,KAAMT,EAAc,EAAdA,QACjC,OACC,4BAAQF,UAAU,qBAAqBE,QAAUA,GAChD,uBAAGF,UAAU,kBAAb,YAA2CW,ICmE/BqL,EAlEQ,SAAC,GAAyG,IAAvGnL,EAAsG,EAAtGA,UAAW5B,EAA2F,EAA3FA,KAAMgN,EAAqF,EAArFA,WAAYC,EAAyE,EAAzEA,aAAcX,EAA2D,EAA3DA,cAAeY,EAA4C,EAA5CA,gBAAiB7L,EAA2B,EAA3BA,YAAauF,EAAc,EAAdA,QAAc,EAExFzC,mBAAS,gBAF+E,mBAEtHgJ,EAFsH,KAE1GC,EAF0G,KAI9HvH,qBAAW,WAEPuH,EADCJ,EACa,eAETC,EACa,SAEA,kBAGpB,CAACA,EAAcD,IAEjB,IAgBMK,EAAa,WACjB,IAAM/L,EAAS,CAAErC,SAAU2C,EAAU3C,UACrCoC,EAAY,CAAEC,UAASC,KAAKC,EAASZ,aAQjC0M,EAAa,kBAAC,EAAD,CAAY5L,KAAK,YAAYT,QAAU,kBAAMqL,GAAc,MACxEiB,EAAY,kBAAC,EAAD,CAAkB7L,KAAK,eAAeT,QANvC,WACf,IAAMK,EAAU,CAAExB,OAAQE,EAAKF,OAAQX,WAAYa,EAAKb,YACxDkC,EAAY,CAAEC,UAASC,KAAKC,EAASjB,eAKjCiN,EAAmB,4BAAQzM,UAAU,qBAAqBE,QAxB7C,YlC8NW,SAAC,GAA0B,IAAxBhC,EAAuB,EAAvBA,SAAUa,EAAa,EAAbA,OAC5C,OAAOrB,MAAM,oBAAD,OAAqBqB,GAAU,CACpCpB,OAAQ,SACRY,QAAS,IAAIC,QAAQ,CACpB,eAAgB,qBAEpBC,KAAMC,KAAKC,UAAU,CAAE,SAAYT,MAEtCN,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OkCxO5BoP,CAAiB,CAAExO,SAAU2C,EAAU3C,SAAUa,OAAOE,EAAKF,SAC5DlB,MAAM,WACLyO,OAED1O,OAAO,SAACV,GACP2I,EAAQ3I,GACRoP,SAkBF,uBAAGtM,UAAU,qCAAb,UADuB,eAGnB2M,EAAoB,4BAAQ3M,UAAU,qBAAqBE,QA/B5C,WACnBiM,GAAiBD,IA8BuEU,SAAUX,GACjG,uBAAGjM,UAAU,qCAAb,UACAoM,GAEH,OACI,yBAAKpM,UAAU,aACb,yBAAKA,UAAU,oBACZuM,EACAC,GAEH,yBAAKxM,UAAU,oBACZyM,EACAE,K,iBCRIE,GApDO,SAAC,GAA4E,IAsB/FC,EAtBqBjM,EAAyE,EAAzEA,UAAWiI,EAA8D,EAA9DA,KAAMoD,EAAwD,EAAxDA,aAAcV,EAA0C,EAA1CA,cAAelL,EAA2B,EAA3BA,YAAauF,EAAc,EAAdA,QAE5E9G,EAAS+J,EAAK/J,OACdgK,EAASD,EAAKC,OACdI,EAAML,EAAKK,IACXF,EAAWH,EAAKG,SAYhBG,EAAW,WAEf9I,EAAY,CAAEC,QADE,CAAExB,SAAQgK,UACHvI,KAAKC,EAASlB,eA6BvC,OAxBAuN,EADC3D,EACa,yBACInJ,UAAU,YACVgJ,IAAKC,EACLC,IAAMC,EACNjJ,QAAUkJ,IAIf,yBAAKpJ,UAAU,YAAYgJ,IAAI,cAAcE,IAAMd,OAK9D,wBAAIpI,UAAU,kBACZ,yBAAKA,UAAU,YACX8M,EACF,uBAAG9M,WAAakM,EAAc,GAAG,UAAY,mCAC7ChM,QAlCa,YnC4UK,SAAC,GAAkC,IAAhChC,EAA+B,EAA/BA,SAAUa,EAAqB,EAArBA,OAAQgK,EAAa,EAAbA,OAC9C,OAAOrL,MAAM,oBAAD,OAAqBqB,EAArB,kBAAqCgK,GAAU,CACpDpL,OAAQ,SACRY,QAAS,IAAIC,QAAQ,CACpB,eAAgB,qBAEpBC,KAAMC,KAAKC,UAAU,CAAE,SAAYT,MAEtCN,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,OmCtV5ByP,CAAW,CAAE7O,SAAU2C,EAAU3C,SAAUa,SAAQgK,WAClDlL,MAAM,WACL2N,OAED5N,OAAO,SAACV,GACP2I,EAAQ3I,QA2BN,UAGF,yBAAK8C,UAAU,4BAA4BE,QAAUkJ,GAClDH,KCOM+D,GAnDG,SAAC,GAA+F,IAoB5GC,EACAC,EArBerM,EAA4F,EAA5FA,UAAWsM,EAAiF,EAAjFA,SAAUjB,EAAuE,EAAvEA,aAAckB,EAAyD,EAAzDA,cAAe9M,EAA0C,EAA1CA,YAAakL,EAA6B,EAA7BA,cAAe3F,EAAc,EAAdA,QAAc,EAEnFzC,mBAAS,MAF0E,mBAEvGsF,EAFuG,KAEhG2E,EAFgG,OAGjFjK,mBAAS,WAHwE,mBAGvG+B,EAHuG,aAI7E/B,oBAAS,IAJoE,mBAIvG0G,EAJuG,UAwC/G,OAlCAhF,qBAAW,WACTE,EAAKC,OAAO,CAAEC,MAAOiI,EAAUhI,SAAQC,OAAQ0E,IAC/CuD,EAAS,YAAKF,MACd,CAAChI,EAAQ2E,EAAUqD,IAGrBrI,qBAAW,WACL4D,GAAUA,EAAME,OAGlBwE,GAAc,GAFdA,GAAc,KAIhB,CAAC1E,EAAO0E,IAIP1E,IACDuE,EAAevE,EAAMxC,KAAK,SAAC4C,GACrB,OACE,kBAAC,GAAD,CACE1C,IAAM0C,EAAKC,OACXlI,UAAYA,EACZiI,KAAOA,EACPoD,aAAeA,EACfV,cAAgBA,EAChBlL,YAAcA,EACduF,QAAUA,OAGhB6C,EAAME,SACRsE,EAAW,kBAAC,EAAD,iCAKT,yBAAKlN,UAAU,cACZkN,EACD,wBAAIlN,UAAU,iBACViN,KCmDCK,GA7FQ,SAAC,GAA0C,IAAxCzM,EAAuC,EAAvCA,UAAWuG,EAA4B,EAA5BA,SAAU9G,EAAkB,EAAlBA,YAAkB,EAEnC8C,mBAAS,IAF0B,mBAEvDE,EAFuD,KAEhDC,EAFgD,OAGtCH,mBAAS,MAH6B,mBAGvDnE,EAHuD,KAGjDsO,EAHiD,OAIhCnK,oBAAS,GAJuB,mBAIvDiE,EAJuD,KAI9CC,EAJ8C,OAKzBlE,oBAAS,GALgB,mBAKvDoK,EALuD,KAK3ChC,EAL2C,OAMzBpI,oBAAS,GANgB,mBAMvDkI,EANuD,KAM3CC,EAN2C,OAOzBnI,oBAAS,GAPgB,mBAOvD6I,EAPuD,KAO3CmB,EAP2C,OAQrBhK,oBAAS,GARY,mBAQvD8I,EARuD,KAQzCC,EARyC,KAU/DrH,qBAAW,WACTwC,EAAWzG,EAAU3C,WAAakJ,EAAS7G,QAAQrC,UACnDqF,EAAS,IACTzE,EAAgBsI,EAAS7G,QAAQxB,QAChClB,MAAM,SAAAkG,GACLwJ,EAAQxJ,EAAaC,SAEtBpG,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,iBAEpC,CAAC+J,EAAUvG,EAAW2M,IAEzB,IAQIC,EAcAC,EAgBAC,EAcAlD,EAhDEmD,EAAkB,SAAC1Q,GACrBqG,EAASjC,EAAcpE,EAAIG,MAAQ,aAkBvC,GAdG4B,IACDwO,EAAY,kBAAC,EAAD,CACN5M,UAAYA,EACZwG,QAAUA,EACVpI,KAAOA,EACPqM,WAAaA,EACbC,cAAgBA,EAChBC,cAAgBA,EAChBlL,YAAeA,EACfuF,QAAU+H,KAKf3O,GAAQA,EAAKyJ,MAAM,CACpB,IAAMyE,EAAWjO,OAAOyJ,OAAO1J,EAAKyJ,OACpCgF,EAAa,kBAAC,GAAD,CACP7M,UAAYA,EACZwG,QAAUA,EACVtI,OAASE,EAAKF,OACdoO,SAAWA,EACXjB,aAAeA,EACfkB,cAAgBA,EAChB9M,YAAeA,EACfkL,cAjCW,WACjBA,GAAegC,IAiCT3H,QAAU+H,IA0BlB,OArBGvG,IACAsG,EAAkB,kBAAC,EAAD,CACP9M,UAAYA,EACZ5B,KAAOA,EACPgN,WAAaA,EACbC,aAAeA,EACfX,cAAgBA,EAChBY,gBAAkBA,EAClB7L,YAAeA,EACfuF,QAAU+H,KAKxBnD,EAAY,6BACF,yBAAKzK,WAAasD,EAAO,GAAK,UAAY,cACtC,yBAAKtD,UAAU,eAAf,UACCsD,IAKX,6BACGmH,EACAgD,EACAE,EACAD,ICWMG,GAlGQ,SAAC,GAAoD,IAAlDhN,EAAiD,EAAjDA,UAAWuG,EAAsC,EAAtCA,SAAU9G,EAA4B,EAA5BA,YAAaW,EAAe,EAAfA,SAAe,EAE7CmC,mBAAS,IAFoC,mBAEjEE,EAFiE,KAE1DC,EAF0D,OAG/CH,mBAAS,MAHsC,mBAGjE0F,EAHiE,KAG3DgF,EAH2D,OAIvC1K,mBAAS,IAJ8B,mBAIjEa,EAJiE,KAIvDqC,EAJuD,OAKrClD,mBAAS,IAL4B,mBAKjE2K,EALiE,KAKtDC,EALsD,OAM1C5K,oBAAS,GANiC,mBAMjEiE,EANiE,KAMxDC,EANwD,KAQzExC,qBAAW,WACT,IAAM/F,EAASqI,EAAS7G,QAAQxB,OAC1BgK,EAAS3B,EAAS7G,QAAQwI,OAChCxF,EAAS,ItCuRkB,SAAC,GAAwB,IAAtBxE,EAAqB,EAArBA,OAAQgK,EAAa,EAAbA,OACzC,OAAOrL,MAAM,oBAAD,OAAqBqB,EAArB,kBAAqCgK,GAAU,CACvDpL,OAAQ,QAEXC,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,MsC7R5B2Q,CAAgB,CAAElP,SAAQgK,WACzBlL,MAAM,SAAAkG,GACL+J,EAAQ/J,EAAaC,MACrBkK,EAAcnP,MAEfnB,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,YACjB,MAAfH,EAAIK,QACL0D,SAGJ,CAACmG,IAEHtC,qBAAW,WACNiJ,GACDzG,EAAWzG,EAAU3C,WAAa6P,KAEpC,CAACA,IAEH,IA0BII,EAgBA5B,EAOA9B,EAjDEyD,EAAgB,SAACnP,GACrB,OAAOD,EAAgBC,GACpBlB,MAAM,SAAAkG,GACDuC,EAAYvC,EAAaC,KAAKC,UAC9B+J,EAAajK,EAAaC,KAAK9F,aAEpCN,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,gBAkDzC,OA9BGyL,IACDqF,EACE,6BACGrF,EAAKK,IACJ,yBAAKnJ,UAAU,WAAWgJ,IAAKF,EAAKG,SAAUC,IAAMJ,EAAKK,MACzD,yBAAKnJ,UAAU,WAAWgJ,IAAI,cAAcE,IAAMd,OAEpD,yBAAKpI,UAAU,cAAc8I,EAAKG,UAClC,yBAAKjJ,UAAU,sBAAsBE,QAxB1B,WACf,IAAMK,EAAU,CAAErC,SAAS6P,EAAWhP,OAAO+J,EAAK/J,QAClDuB,EAAY,CAAEC,UAASC,KAAKC,EAASnB,gBAsB0B2E,GAC3D,yBAAKjE,UAAU,sBAAsBE,QApB1B,WAEfI,EAAY,CAAEC,QADE,CAAErC,SAAU6P,GACLvN,KAAKC,EAASb,cAkBjC,SAAiEmO,GACjE,yBAAK/N,UAAU,oBAAoB8I,EAAK5E,eAM3CmD,IACDkF,EAAc,yBAAKvM,UAAU,oBACrB,kBAAC,EAAD,CAAYW,KAAK,OAAOT,QAxBb,WACnBI,EAAY,CAAEC,QAAQ,KAAMC,KAAKC,EAASd,iBA4B5C8K,EAAY,6BACF,yBAAKzK,WAAasD,EAAO,GAAK,UAAY,cACtC,yBAAKtD,UAAU,eAAf,UACCsD,IAKT,6BACEmH,EACA,6BAAO0D,GACL5B,IC/CG6B,GAlDQ,SAAC,GAA2C,IAAzCjE,EAAwC,EAAxCA,MAAOpL,EAAiC,EAAjCA,OAAQsP,EAAyB,EAAzBA,UAAWxI,EAAc,EAAdA,QAAc,EAE5BzC,mBAAS,IAFmB,mBAEtDkL,EAFsD,KAE5CC,EAF4C,KAK9DzJ,qBAAW,WACPe,EAAQ,CAAExI,KAAM,UACb8M,GAASA,EAAMvB,OACT0F,GACFC,EAAYpE,EAAM,GAAGpL,SAGxBwP,EAAY,IACZ1I,EAAQ,CAAExI,KAAM,sBAEtB,CAAC8M,IAIHrF,qBAAW,WACJ/F,GACCwP,EAAYxP,KAElB,IAEF+F,qBAAW,WACPuJ,EAAUC,KACZ,CAACD,EAAUC,IAEb,IAIItN,EACJ,GAAGmJ,EAAM,CACR,IAAMlE,EAAUkE,EAAMjE,KAAK,SAACjH,GAC3B,OAAO,4BAAQmH,IAAKnH,EAAKF,OAAQyE,MAAOvE,EAAKF,QAASE,EAAKgF,aAE5DjD,EAAQ,4BAAQhB,UAAU,cAAcwD,MAAQ8K,EAAW7K,SATvC,SAACC,GAClB6K,EAAY7K,EAAEC,OAAOH,SASXyC,GAIjB,OACC,yBAAKjG,UAAU,iBACbgB,ICcWwN,GArDY,SAAC,GAA0E,IAuBhGC,EAvBwB5N,EAAuE,EAAvEA,UAAWzC,EAA4D,EAA5DA,WAAYW,EAAgD,EAAhDA,OAAQ6G,EAAwC,EAAxCA,cAAeyI,EAAyB,EAAzBA,UAAWxI,EAAc,EAAdA,QAAc,EAE/DzC,mBAAS,IAFsD,mBAE3FsL,EAF2F,KAEhFC,EAFgF,OAGvEvL,mBAAS,MAH8D,mBAG3F+G,EAH2F,KAGpFyE,EAHoF,KAoCnG,OA1BA9J,qBAAW,WACT,GAAG1G,EAAW,CACV,IAAMS,EAAK,qBAAiBT,GAC5BQ,EAAaC,GACZhB,MAAM,SAAAkG,GACH6K,EAAS7K,EAAaC,SAEzBpG,OAAO,SAACV,GACP2I,EAAQ3I,SAGd,CAACkB,EAAYyH,IAIb4I,EADCtE,EACiB,kBAAC,GAAD,CACNA,MAAQA,EACRpL,OAASA,EACTsP,UAAYA,EACZxI,QAxBU,SAAC3I,GACvByR,EAAarN,EAAcpE,EAAIG,MAAQ,eA2BtB,8CAIf,yBAAK2C,UAAU,iBACV,2BAAOA,UAAU,cAAa,kBAAC,EAAD,MAA9B,cACD,kBAAC,EAAD,CACE9B,SAAW2C,EAAU3C,SACrBE,WAAaA,EACbwH,cAAgBA,EAChBC,QAAUA,IAEX,2BAAO7F,UAAU,cAAa,kBAAC,EAAD,MAA9B,UACCyO,EACAC,ICuEGG,GApHK,SAAC,GAA0C,IAAxChO,EAAuC,EAAvCA,UAAWuG,EAA4B,EAA5BA,SAAU9G,EAAkB,EAAlBA,YAAkB,EAEhC8C,mBAAS,IAFuB,mBAEpDE,EAFoD,KAE7CC,EAF6C,OAG1BH,mBAAS,IAHiB,mBAGpD6F,EAHoD,KAG1C6F,EAH0C,OAIpB1L,mBAAS,IAJW,mBAIpDc,EAJoD,KAIvCqC,EAJuC,OAKtBnD,mBAAS,MALa,mBAKpDhF,EALoD,KAKxCwH,EALwC,OAM9BxC,mBAAS,MANqB,mBAMpDrE,EANoD,KAM5CsP,EAN4C,OAO5BjL,mBAASgF,MAPmB,mBAOpD2G,EAPoD,KAO3CC,EAP2C,KAS5DlK,qBAAW,WACTvB,EAAS,IACT9F,IACCI,MAAM,SAAAkG,GACFA,EAAaC,KAAK9F,WAAa2C,EAAU3C,UAC1CqF,EAASjC,EAAcO,yBAG1BjE,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,eAGlC+J,EAAS7G,UACV8N,EAAUjH,EAAS7G,QAAQxB,QAC3B6G,EAAcwB,EAAS7G,QAAQnC,eAEjC,CAACgJ,EAAUvG,IAEb,IA6DI4J,EAxBEwE,EAAQ,yBAAKjP,UAAU,cAAf,mBACRkP,EAAa,yBAAKlP,UAAU,mBACxB,yBAAKA,UAAU,cAAcgJ,IAAI,UAAUE,IAAM6F,IACjD,yBAAK/O,UAAU,gBAAf,WACA,2BAAOmP,KAAK,OAAOxO,KAAK,eAAeX,UAAU,eAAeyD,SAbrD,SAACC,GACpB,IAAM0L,EAAS,IAAIC,WACnBD,EAAOE,OAAS,WACdN,EAAWI,EAAOG,QAClB/I,QAAQC,IAAI,YAAcsI,IAE5BK,EAAOI,cAAc9L,EAAEC,OAAO8L,MAAM,QAUhCC,EAAa,6BACP,kBAAC,EAAD,MAAiB,8CACjB,2BAAO1P,UAAU,kBAAkBwD,MAAOyF,EAAUxF,SAAW,SAACC,GAAD,OAAOoL,EAAYpL,EAAEC,OAAOH,UAC3F,kBAAC,GAAD,CACE3C,UAAYA,EACZzC,WAAaA,EACbW,OAASA,EACT6G,cAAgBA,EAChByI,UAAYA,EACZxI,QArDU,SAAC3I,GACrBqG,EAASjC,EAAcpE,EAAIG,MAAQ,eAsD3B,2BAAO2C,UAAU,cAAjB,iBACA,8BAAU0G,KAAK,IAAIC,KAAK,KAAKnD,MAAOU,EAAaT,SAAW,SAACC,GAAD,OAAO6C,EAAe7C,EAAEC,OAAOH,WAGjGgJ,EAAY,kBAAC,EAAD,CAAoB7L,KAAK,MAAMT,QAvD9B,WACjB,GAAI+I,GAAaA,EAASrF,OAA1B,CAIA,IAAMkF,EAAO,CACXG,WACA/E,cACAnF,SACAoK,IAAI4F,GAENvI,QAAQC,IAAI1H,GACZwE,EAAS,IzCiQU,SAAC,GAAgC,IAA9BrF,EAA6B,EAA7BA,SAAUa,EAAmB,EAAnBA,OAAQ+J,EAAW,EAAXA,KAC3C,OAAOpL,MAAM,oBAAD,OAAqBqB,EAArB,UAAqC,CAC7CpB,OAAQ,OACRY,QAAS,IAAIC,QAAQ,CACjB,eAAgB,qBAEpBC,KAAMC,KAAKC,UAAU,CAAE,SAAYT,EAAU,KAAQ4K,MAExDlL,MAAOX,GACPY,MAAM,SAAAC,GACN,OAAIA,EAASC,GAGND,EAASE,OAFRF,EAASE,OAAOH,KAAMP,MyC3Q5BqS,CAAQ,CAAEzR,SAAU2C,EAAU3C,SAAUa,SAAQ+J,SAC/CjL,MAAM,SAACkG,GAEN,IAAMxD,EAAU,CAAExB,SAAQgK,OAAQhF,EAAaC,KAAK+E,QACpDzI,EAAY,CAAEC,UAASC,KAAKC,EAASlB,iBAEtC3B,OAAO,SAACV,GACPqG,EAASjC,EAAcpE,EAAIG,MAAQ,oBAlBnCkG,EAASjC,EAAcoB,mBA+D3B,OAPA+H,EAAY,6BACF,yBAAKzK,WAAasD,EAAO,GAAK,UAAY,cACtC,yBAAKtD,UAAU,eAAf,UACCsD,IAKX,yBAAKtD,UAAU,iBACZyK,EACD,yBAAKzK,UAAU,cAAciP,GAC7B,yBAAKjP,UAAU,WACb,yBAAKA,UAAU,YACZkP,GAEH,yBAAKlP,UAAU,aACZ0P,IAGL,yBAAK1P,UAAU,oBACZwM,KC/CIoD,GA9DK,SAAC,GAAoD,IAEnElI,EAFiB7G,EAAiD,EAAjDA,UAAWuG,EAAsC,EAAtCA,SAAU9G,EAA4B,EAA5BA,YAAaW,EAAe,EAAfA,SAGvD,OAAOmG,EAAS5G,MACd,KAAKC,EAASrB,MACZsI,EAAU,kBAAC,EAAD,CAAWpH,YAAcA,IACnC,MACF,KAAKG,EAASpB,WACZqI,EAAU,kBAAC,EAAD,CACRN,SAAWA,EACX9G,YAAcA,EACdW,SAAWA,IACb,MACF,KAAKR,EAASZ,UAOd,KAAKY,EAASb,UACZ8H,EAAU,kBAAC,EAAD,CACR7G,UAAYA,EACZuG,SAAWA,EACX9G,YAAcA,EACdW,SAAWA,IACb,MACF,KAAKR,EAASnB,YACZoI,EAAU,kBAAC,GAAD,CACR7G,UAAYA,EACZuG,SAAWA,EACX9G,YAAcA,IAChB,MACF,KAAKG,EAASlB,YACZmI,EAAU,kBAAC,GAAD,CACR7G,UAAYA,EACZuG,SAAWA,EACX9G,YAAcA,EACdW,SAAWA,IACb,MACF,KAAKR,EAASjB,UACZkI,EAAU,kBAAC,GAAD,CACR7G,UAAYA,EACZuG,SAAWA,EACX9G,YAAcA,IAChB,MACF,KAAKG,EAAShB,SACd,KAAKgB,EAASd,UACZ+H,EAAU,kBAAC,EAAD,uBACV,MACF,QACEA,EAAU,GAGd,OACI,6BACGA,IC6BMmI,OApFf,WAAgB,IAAD,EACuBzM,mBAAS,MADhC,mBACLvC,EADK,KACMiP,EADN,OAEe1M,mBAAS,YAFxB,mBAEE2M,GAFF,aAGqC3M,oBAAS,GAH9C,mBAGL4M,EAHK,KAGaC,EAHb,OAIqB7M,mBAAS,CAAE7C,QAAS,KAAMC,KAAKC,EAASrB,QAJ7D,mBAILgI,EAJK,KAIK9G,EAJL,KAMbwE,qBAAW,WACTrH,IACCI,MAAM,SAAAkG,GACL+L,EAAa,CACX3O,YAAY,EACZjD,SAAU6F,EAAaC,KAAK9F,WAE9B6R,EAAShM,EAAaC,KAAKkM,UAE5BtS,OAAO,SAACV,GACP4S,EAAa,CACX3O,YAAY,EACZjD,SAAU,UAGb,IAEH,IAkBEiS,EAlBIC,EAAQ,SAAClS,GACb4R,EAAa,CACX3O,YAAY,EACZjD,cAIEmS,EAAS,WACbP,EAAa,CACX3O,YAAY,EACZjD,SAAU,MAIRoS,EAAU,SAAC9P,GACfF,EAAYE,IAgBd,OAZCK,IAAcA,EAAUM,aACzBgP,EACI,kBAAC,EAAD,CAAa7L,KAAO0L,EAAmBzL,cAAgB0L,GACpD,kBAAC,EAAD,CACChN,QAAUmN,EACVjN,UAAY8M,EACZ/M,YAAa,EACb5C,YAAcgQ,MAMpB,yBAAKtQ,UAAU,OACb,kBAAC,EAAD,CACEa,UAAYA,EACZI,SAAWoP,EACX/P,YAAcgQ,EACdpP,eAAmB+O,IAErB,yBAAKjQ,UAAU,QACb,kBAAC,EAAD,CACEa,UAAYA,EACZoC,QAAUmN,EACVhJ,SAAWA,EACX9G,YAAcgQ,EACdrP,SAAWoP,IAEb,yBAAKrQ,UAAU,gBACb,kBAAC,GAAD,CACEa,UAAYA,EACZuG,SAAWA,EACX9G,YAAcgQ,EACdrP,SAAWoP,MAIhBF,IC9EaI,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBtT,MAAK,SAAAuT,GACJA,EAAaC,gBAEdzT,OAAM,SAAA0F,GACLkD,QAAQlD,MAAMA,EAAM9F,c","file":"static/js/main.9019bcc0.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QCwRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgExAAIAAAAkAAAAWodpAAQAAAABAAAAfgAAAAAAAABIAAAAAQAAAEgAAAABQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkAAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAMegAwAEAAAAAQAAAMcAAAAA/+ELAmh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozODc0OUY3NDBGRTcxMUU4OTk2NEFBNDY3N0FFNTkwNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozODc0OUY3NTBGRTcxMUU4OTk2NEFBNDY3N0FFNTkwNiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM4NzQ5RjcyMEZFNzExRTg5OTY0QUE0Njc3QUU1OTA2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM4NzQ5RjczMEZFNzExRTg5OTY0QUE0Njc3QUU1OTA2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz4A/+0AOFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/AABEIAMcAxwMBEQACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2wBDAAYEBAQFBAYFBQYJBgUGCQsIBgYICwwKCgsKCgwQDAwMDAwMEAwODxAPDgwTExQUExMcGxsbHB8fHx8fHx8fHx//2wBD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\"","const convertNetworkError = (err) => Promise.reject({ code: 'NETWORK-ERROR' });\n\nconst convertServiceError = (err) => \n\tPromise.reject({ status:err.status, code: err.message });\n\nexport const fetchLoginStatus = () => {\n\treturn fetch(`/session`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchLogin = (username) => {\n\treturn fetch(`/session`, { \n    \tmethod: 'POST', \n    \theaders: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ username }),\n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchLogout = () => {\n\treturn fetch(`/session`, {\n        method: 'DELETE',\n    })\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchTheme = (username) => {\n\treturn fetch(`/users/${username}/theme`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const updateTheme = ({ username, theme }) => {\n\treturn fetch(`/users/${username}/theme`, { \n    \tmethod: 'PUT', \n    \theaders: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'theme': theme }),\n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\n\n//categories\nexport const fetchCategories = (username) => {\n\treturn fetch(`/users/${username}/categories`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchSingleCategory = ({ username, categoryId }) => {\n\treturn fetch(`/users/${username}/categories/${categoryId}`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const addCategory = ({ username, category }) => {\n\treturn fetch(`/users/${username}/categories`, { \n    \tmethod: 'POST', \n    \theaders: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'category': category }),\n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const updateCategory = ({ username, categoryId, category }) => {\t\n\treturn fetch(`/users/${username}/categories/${categoryId}`, { \n    \tmethod: 'PUT', \n    \theaders: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'category': category }),\n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const deleteCategory = ({ username, categoryId, complete }) => {\n\treturn fetch(`/users/${username}/categories/${categoryId}`, {\n        method: 'DELETE',\n        headers: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'complete': complete }),\n    })\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const deleteALLCategory = ({ username, complete }) => {\n\treturn fetch(`/users/${username}/categories`, {\n        method: 'DELETE',\n        headers: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'complete': complete }),\n    })\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\n// lists\nexport const fetchAllLists = () => {\n\treturn fetch(`/collectionLists`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchListsBy = (query) => {\n\treturn fetch(`/collectionLists?${query}`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchSingleList = (listId) => {\n\treturn fetch(`/collectionLists/${listId}`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const addList = ({ username, list }) => {\n\treturn fetch(`/collectionLists`, { \n    \tmethod: 'POST', \n    \theaders: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'username': username, 'list': list }),\n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const updateSingleList = ({ username, oldCatId, listId, list }) => {\n\treturn fetch(`/collectionLists/${listId}`, { \n    \tmethod: 'PUT', \n    \theaders: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'username': username, 'oldCatId':oldCatId, 'list': list }),\n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const deleteSingleList = ({ username, listId }) => {\n\treturn fetch(`/collectionLists/${listId}`, {\n        method: 'DELETE',\n        headers: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'username': username }),\n    })\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const deleteListBy = ({ username, query }) => {\n\treturn fetch(`/collectionLists?${query}`, {\n        method: 'DELETE',\n        headers: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'username': username }),\n    })\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\n\n// items\nexport const fetchItems = (listId) => {\n\treturn fetch(`/collectionLists/${listId}/items`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchSingleItem = ({ listId, itemId }) => {\n\treturn fetch(`/collectionLists/${listId}/items/${itemId}`, { \n    \tmethod: 'GET', \n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const addItem = ({ username, listId, item }) => {\n\treturn fetch(`/collectionLists/${listId}/items`, { \n    \tmethod: 'POST', \n    \theaders: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'username': username, 'item': item }),\n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const updateItem = ({ username, listId, itemId, item, oldListId }) => {\t\n\treturn fetch(`/collectionLists/${listId}/items/${itemId}`, { \n    \tmethod: 'PUT', \n    \theaders: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'username': username, 'item': item, 'oldListId': oldListId }),\n\t})\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const deleteItem = ({ username, listId, itemId }) => {\n\treturn fetch(`/collectionLists/${listId}/items/${itemId}`, {\n        method: 'DELETE',\n        headers: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'username': username }),\n    })\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const deleteAllItems = ({ username, listId }) => {\n\treturn fetch(`/collectionLists/${listId}/items`, {\n        method: 'DELETE',\n        headers: new Headers({\n        \t'content-type': 'application/json', \n    \t}),\n    \tbody: JSON.stringify({ 'username': username }),\n    })\n\t.catch( convertNetworkError )\n\t.then( response => { \n\t\tif(!response.ok) {\n\t\t\treturn response.json().then( convertServiceError );\n\t\t}\n\t\treturn response.json();\n\t});\n};\n","const pageType = {\n  INDEX: 'INDEX',\n  SINGLE_CAT: 'CAT_VIEW',\n  SINGLE_LIST: 'ITEMS_VIEW',\n  SINGLE_ITEM: 'SINGLE_ITEM',\n  POST_ITEM: 'POST_ITEM',\n  EDIT_CAT: 'EDIT_CAT',\n  EDIT_LIST: 'EDIT_LIST',\n  EDIT_ITEM: 'EDIT_ITEM',\n  USER_VIEW: 'USER_VIEW',\n  USER_SELF: 'USER_SELF',\n  USER_SETTING: 'USER_SETTING',\n};\n\nexport default Object.freeze(pageType);\n","import React from 'react';\n\nconst Title = ({ className, children, onClick }) => {\n\treturn(\n\t\t<div className={className} onClick={onClick} >\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default Title;","import React from 'react';\nimport Title from '../../shared/Title';\nimport pageType from '../../controller/page-types';\n\nconst PageTitle = ({ mainTitle, subTitle, setPageView }) => {\n\n\tconst goToIndex = () => {\n\t\tsetPageView({ reqData:null, view:pageType.INDEX });\n\t}\n\n\treturn(\n\t\t<div className=\"page-title\" >\n\t\t\t<Title className=\"main-title\" onClick={ goToIndex }>{mainTitle}</Title> \n\t\t\t<Title className=\"sub-title\">{subTitle}</Title>\n\t\t</div>\n\t);\n};\n\nexport default PageTitle;","import React from 'react';\n\nconst LoginButton = ({ text, onClick }) => {\n\treturn(\n\t\t<button className=\"login-button\" onClick={ onClick } >\n\t\t\t{text}\n\t\t</button>\n\t);\n};\n\nexport default LoginButton;","import React from 'react';\nimport pageType from '../controller/page-types';\n\nconst MyPageButton = ({ children, userState, setPageView }) => {\n\n\tconst goToMyPage = () => {\n\t\tconst reqData = { username: userState.username };\n\t\tsetPageView({ reqData, view: pageType.USER_SELF });\n\t}\n\n\treturn(\n\t\t<button className=\"my-page-button\" onClick={ goToMyPage } >\n\t\t\t<i className=\"material-icons\">person</i>{children}\n\t\t</button>\n\t);\n};\n\nexport default MyPageButton;","import React from 'react';\n\nconst PageInfoText = ({ children }) => {\n\treturn(\n\t\t<div className=\"page-info\">{ children }</div>\n\t);\n};\n\nexport default PageInfoText;","import React from 'react';\nimport { fetchLogout } from '../../controller/services';\nimport pageType from '../../controller/page-types';\nimport LoginButton from '../../shared/LoginButton';\nimport MyPageButton from '../../shared/MyPageButton';\nimport PageInfoText from '../../shared/PageInfoText';\n\nconst TopMenu = ({ userState, onLogout, setPageView, setLoginDialog }) => {\n\n\tconst performLogout = () => {\n    \tfetchLogout()\n    \t.then( () => {\n    \t\tonLogout();\n    \t})\n    \t.catch( (err) => {\n            onLogout();\n    \t});\n        setPageView({ reqData:null, view:pageType.INDEX });\n    }\n\n    let menu;\n    if(userState){\n        if(userState.isLoggedIn && userState.username){\n        \tmenu = <div>\n        \t\t<span className=\"welcome-text\">Welcome!</span><span className=\"topmenu-username\">{userState.username}</span>\n        \t\t<MyPageButton \n                    userState={ userState } \n                    setPageView={ setPageView } \n                >My Page</MyPageButton>\n        \t\t<button onClick={ performLogout } className=\"log-out-button\">Log out</button>\n        \t</div>\n        } else {\n        \tmenu = <div>\n        \t\t<LoginButton text=\"Log in\" onClick={ () => setLoginDialog(true) } />\n        \t</div>\n        }\n    } else {\n        menu = <PageInfoText>loading...</PageInfoText>;\n    }\n\n\treturn(\n\t\t<div className=\"top-menu\">\n\t\t\t{menu}\n\t\t</div>\n\t);\n};\n\nexport default TopMenu;","import React from 'react';\nimport PageTitle from './PageTitle';\nimport TopMenu from './TopMenu';\n\nconst Header = ({ userState, onLogout, setPageView, setLoginDialog }) => {\n\treturn(\n\t\t<div className=\"header\">\n\t\t\t<PageTitle \n\t\t\t\tmainTitle=\"Our Collections\" \n\t\t\t\tsubTitle=\"organize, track and share your collection\" \n\t\t\t\tsetPageView = { setPageView } />\n\t\t\t<TopMenu \n\t\t\t\tuserState={ userState } \n\t\t\t\tonLogout={ onLogout }\n\t\t\t\tsetPageView={ setPageView } \n\t\t\t\tsetLoginDialog={ setLoginDialog }\n\t\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Header;","import React from 'react';\nimport pageType from '../controller/page-types';\n\nconst HomePageButton = ({ children, setPageView }) => {\n\n\tconst goHome = () => {\n\t\tsetPageView({ reqData:null, view: pageType.INDEX });\n\t}\n\n\treturn(\n\t\t<button className=\"home-page-button\" onClick={ goHome } >\n\t\t\t<i className=\"material-icons\">home</i>{children}\n\t\t</button>\n\t);\n};\n\nexport default HomePageButton;","const errorMessages = {\n  DEFAULT: `Oh no!  Something went wrong, please try again`,\n  NETWORK_ERROR: `There was a problem reaching your network, please try again`,\n  NO_VALID_SESSION: `You must be logged in to view this content. Please log in or refresh the page.`,\n\n  USERNAME_REQUIRED: `Username is required`,\n  USERNAME_DENIED: `You can't use invalid character in username. Only numbers, letters, hyphen and underscore are allowed. Length should be 2-20`,\n  \n  USER_UNAUTHORIZED: `You are not permitted to view this content. Please refresh the page.`,\n  ACTION_NOT_PERMITTED: `You are not permitted to perform this action. Please refresh the page.`,\n  \n  DUPLICATE_CAT_NAME: `Category already exists. Please change another name`,\n  DUPLICATE_LIST_NAME: `List in this category already exists. Please change another name`,\n  DUPLICATE_ITEM_NAME: `Item in this list already exists. Please change another name`,\n\n  CAT_NAME_DENIED:`You can't use invalid character in category name. Only numbers, letters, hyphen and underscore are allowed. Length should be 2-20`,\n  LIST_NAME_DENIED:`The length of list name should between 2-100`,\n  ITEM_NAME_DENIED:`The length of item name should between 2-100`,\n\n  NO_SUCH_ITEM: `The item does not exist. Please refresh the page`,\n  NO_SUCH_CAT: `The category does not exist. Please refresh the page.`,\n  NO_SUCH_LIST: `The list does not exist. Please refresh the page or try other operations.`,\n\n  FAILED_TO_DELETE_CAT: `failed to delete a category`,\n  ATTEMPT_TO_DELETE_DEFAULT:`You can't delete the default category`,\n  FORBIDDEN:`forbidden action`,\n\n  INPUT_REQUIRED: `You must complete the required field`,\n  NO_LIST_IN_CAT:`There is no list in this category. Add a new list or change another category`,\n  TOO_MUCH_INPUT: `You can only add 2000 letters in the description`,\n  TOO_MUCH_INPUT_LIST:`You can only add 500 letters in the description`,\n  LARGER_THAN_5: `You can't upload images larger than 5M`,\n\n  CLEAR:'',\n};\n\nexport default errorMessages;\n","import React, { useState } from 'react';\nimport { fetchLogin, addCategory,addList } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport pageType from '../../controller/page-types';\nimport LoginButton from '../../shared/LoginButton';\n\nconst LoginForm = ({ onLogin, openDialog, setDialog, setPageView }) => {\n\n  const [ username, setUsername ] = useState('');\n  const [ error, setError ] = useState('');\n\n  const addDefault = (username) => {\n    return addCategory({ username, category: { categoryName: 'default' }})\n          .then( (responseJson) => {\n            const categoryId = responseJson.data.categoryId;\n            return addList({ username, list:{ listName:'Default', description:'', categoryId } });\n          })\n          .catch( () => {\n            // if default category and default list already exist, it's ok\n            // this step should happen in sign up stage that is omitted in this app\n          });\n  };\n\n  const goToMyPage = () => {\n    setPageView({ reqData:{username}, view:pageType.USER_SELF });\n  }\n\n  const performLogin = () => {\n    if(!username) {\n      setError(errorMessages.USERNAME_REQUIRED);\n      return;\n    }\n    setError('');\n    fetchLogin(username)\n    .then( () => {\n      addDefault(username)\n      .then( () => {\n        if(openDialog){\n          setDialog(false);\n        }\n        goToMyPage();\n        setError('');\n        onLogin(username);\n      });\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n      setUsername('');\n    });\n  };\n\n\n  return (\n      <div className=\"login-form\">\n        <div className=\"dialog-title\">Log In</div>\n        <p className=\"dialog-prompt\">log in to view more and create your own collections</p>\n        <p className=\"error\">{ error }</p>\n        <div>\n          <label>username: </label>\n          <div className=\"login-input-group\">\n            <div className=\"log-in-icon-block\">\n              <i className=\"material-icons log-in-icon\">person</i>\n            </div>\n            <input className=\"login-input\" value={username} \n            onChange={ (e) => setUsername(e.target.value.trim()) } />\n          </div>\n          <LoginButton text=\"Log in\" onClick={ performLogin } />\n        </div>\n      </div>\n  );\n\n};\n\nexport default LoginForm;\n","import React from 'react';\n\nconst CreateButtonSide = ({ text, onClick }) => {\n\treturn(\n\t\t<button className=\"create-button-side\" onClick={ onClick }>\n\t\t\t<i className=\"material-icons\">add</i>{text}\n\t\t</button>\n\t);\n};\n\nexport default CreateButtonSide;","import React from 'react';\n\nconst ModalDialog = ({ show, setShowDialog, children }) => {\n\n  const quitDialog = () => {\n    setShowDialog(false);\n  }\n\n  return (\n      <div className={\"modal \" + (show? \"\" : \"hidden\")}>\n        <div className=\"modal-content\">\n          <i className=\"material-icons quit-icon\" onClick={ quitDialog }>clear</i>\n          {children}\n        </div>\n      </div>\n  );\n\n};\n\nexport default ModalDialog;","import React from 'react';\n\nconst CreateButtonDialog = ({ text, onClick }) => {\n\treturn(\n\t\t<button className=\"create-button-dialog\" onClick={ onClick }>\n\t\t\t{text}\n\t\t</button>\n\t);\n};\n\nexport default CreateButtonDialog;","import React from 'react';\n\nconst CancelButtonDialog = ({ text, onClick }) => {\n\treturn(\n\t\t<button className=\"cancel-button-dialog\" onClick={ onClick }>\n\t\t\t{text}\n\t\t</button>\n\t);\n};\n\nexport default CancelButtonDialog;","import React from 'react';\n\nconst MandatoryIcon = () => {\n\treturn(\n\t\t<span className=\"mandatory-icon\">*</span>\n\t);\n};\n\nexport default MandatoryIcon;","import React, { useState, useEffect } from 'react';\nimport { fetchLoginStatus, addCategory } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport pageType from '../../controller/page-types';\nimport CreateButtonDialog from '../../shared/CreateButtonDialog';\nimport CancelButtonDialog from '../../shared/CancelButtonDialog';\nimport MandatoryIcon from '../../shared/MandatoryIcon';\n\nconst NewCategoryForm = ({ userState, setDialog, setPageView, updateMyPage, onLogout }) => {\n\n  const [ error, setError ] = useState('');\n  const [ categoryName, setCategoryName ] = useState('');\n\n  useEffect( ()=>{\n    setError('');\n    fetchLoginStatus()\n    .then( responseJson => {\n      if(responseJson.data.username !== userState.username){\n        setError(errorMessages.ACTION_NOT_PERMITTED);\n      }\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n    });\n  },[]);\n\n  const addNewCategory = () => {\n    if(!categoryName || !categoryName.trim()) {\n      setError(errorMessages.INPUT_REQUIRED);\n      return;\n    }\n    setError('');\n    addCategory({ username: userState.username, category:{ categoryName:categoryName } })\n    .then( () => {\n      // go to user homepage\n      const reqData = { username: userState.username };\n      setPageView({ reqData, view:pageType.USER_SELF });\n      setDialog(false); \n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n    });\n  };\n\n  const buttons = (<div className=\"dialog-buttons\">\n            <CreateButtonDialog text=\"create\" onClick={ addNewCategory } />\n            <CancelButtonDialog text=\"cancel\" onClick={ () => setDialog(false) } />\n          </div>);\n\n  return (\n      <div className=\"add-dialog-form\">\n        <div className=\"dialog-title\">Create New Category</div>\n        <p className=\"dialog-prompt\">This is a group of your collection lists!</p>\n        <p className=\"error\">{ error }</p>\n        <div>\n          <MandatoryIcon /><label>category name: </label>\n          <input value={categoryName} onChange={ (e) => setCategoryName(e.target.value) } />\n          {buttons}\n        </div>\n      </div>\n  );\n\n};\n\nexport default NewCategoryForm;\n","const sort = {\n\n  sortBy : ({ array, sortby, ascend = false }) => {\n    if(Array.isArray(array)){\n      switch (sortby) {\n        case 'categoryName':\n        case 'listName':\n        case 'itemName':\n        case 'maker':\n            if(ascend) {\n              return array.sort( (a, b) => (a[sortby].toLowerCase()).localeCompare(b[sortby].toLowerCase()) );\n            } else {\n              return array.sort( (a, b) => (b[sortby].toLowerCase()).localeCompare(a[sortby].toLowerCase()) );        \n            }\n        case 'updated':\n        case 'created':\n        case 'listCount':\n        case 'itemCount':\n        case 'releaseDate':\n        case 'collectedDate':\n        case 'rate':\n        case 'price':\n          if(ascend) {\n            return array.sort( (a, b) => a[sortby] - b[sortby] );\n          } else {\n            return array.sort( (a, b) => b[sortby] - a[sortby] );        \n          }\n        default:\n          return array;\n      }\n    }\n    return;\n  },\n\n}\n\nexport default sort;","import React,{ useState, useEffect } from 'react';\nimport { fetchCategories } from '../../controller/services';\nimport sort from '../../controller/sort';\n\nconst CategorySelectMenu = ({ username, categoryId, setCategoryId, onError }) => {\n\n    const [ categories, setCategories ] = useState(null);\n\n    useEffect( () => {\n    \tfetchCategories(username)\n\t\t.then( responseJson => {\n          const sortbyName = sort.sortBy({ array:responseJson.data, sortby: 'categoryName', ascend: true });\n          setCategories(sortbyName);\n    \t})\n    \t.catch( (err) => {\n      \t\tonError(err);\n    \t});\n    },[username], onError);\n\n    useEffect( () => {\n        if(!categoryId && categories) {\n            setCategoryId(categories[0].categoryId);\n        }\n    },[categories]);\n\n    const handleChange = (e) => {\n        setCategoryId(e.target.value);\n    };\n\n    let menu;\n    if(categories){\n    \tconst options = categories.map( (cat) => {\n    \t\treturn <option key={cat.categoryId} value={cat.categoryId}>{cat.categoryName}</option>\n    \t});\n    \tmenu = (<select className=\"cat-select\" value={ categoryId } onChange={ handleChange }>\n                \t{options}\n            \t</select>);\n    } else{\n    \tmenu = <select></select>\n    }\n\n\n\treturn(\n\t\t<div className=\"cat-selector\">\n\t\t\t{menu}\n        </div>\n\t);\n};\n\nexport default CategorySelectMenu;","import React, { useState, useEffect } from 'react';\nimport { fetchLoginStatus, addList } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport pageType from '../../controller/page-types';\nimport CreateButtonDialog from '../../shared/CreateButtonDialog';\nimport CancelButtonDialog from '../../shared/CancelButtonDialog';\nimport MandatoryIcon from '../../shared/MandatoryIcon';\nimport CategorySelectMenu from './CategorySelectMenu';\n\nconst NewListForm = ({ userState, setDialog, setPageView, updateMyPage, onLogout }) => {\n\n  const [ error, setError ] = useState('');\n  const [ listName, setListName ] = useState('');\n  const [ description, setDescription ] = useState('');\n  const [ categoryId, setCategoryId ] = useState('');\n\n  useEffect( ()=>{\n    setError('');\n    fetchLoginStatus()\n    .then( responseJson => {\n      console.log('login:'+ responseJson.data.username);\n      console.log('userState:'+ userState.username);\n      if(responseJson.data.username !== userState.username){\n        setError(errorMessages.ACTION_NOT_PERMITTED);\n      }\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n    });\n  },[]);\n\n  const addNewList = () => {\n    if(!listName || !listName.trim()) {\n      setError(errorMessages.INPUT_REQUIRED);\n      return;\n    }\n    setError('');\n    addList({ username: userState.username, list:{ listName, description, categoryId } })\n    .then( () => {\n      // go to user homepage\n      const reqData = { username: userState.username };\n      setPageView({ reqData, view:pageType.USER_SELF });\n      // updateMyPage();\n      setDialog(false); \n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n    });\n  };\n\n  const convertError = (err) => {\n    setError(errorMessages[err.code || 'DEFAULT']);\n  }\n\n  const buttons = (<div className=\"dialog-buttons\">\n            <CreateButtonDialog text=\"create\" onClick={ addNewList } />\n            <CancelButtonDialog text=\"cancel\" onClick={ () => setDialog(false) } />\n          </div>);\n\n  return (\n      <div className=\"add-dialog-form\">\n        <div className=\"dialog-title\">Create New List</div>\n        <p className=\"dialog-prompt\">This is a list of your collection items!</p>\n        <p className=\"error\">{error}</p>\n        <div>\n         <label className=\"form-label\"><MandatoryIcon />list name: </label>\n          <input className=\"new-list-input\" onChange={ (e) => setListName(e.target.value) } />\n          <label className=\"form-label\">category: </label>\n          <CategorySelectMenu \n            username={ userState.username }\n            setCategoryId={ setCategoryId }\n            onError={ convertError } \n          />\n          <label className=\"form-label\">description: </label>\n          <textarea rows=\"3\" cols=\"35\" value={description} onChange={ (e) => setDescription(e.target.value) } />\n          {buttons}\n        </div>\n      </div>\n  );\n\n};\n\nexport default NewListForm;\n","import React,{ useState } from 'react';\nimport pageType from '../../controller/page-types';\nimport CreateButtonSide from '../../shared/CreateButtonSide';\nimport MyPageButton from '../../shared/MyPageButton';\nimport ModalDialog from '../../shared/ModalDialog';\nimport NewCategoryForm from '../to-add/NewCategoryForm';\nimport NewListForm from '../to-add/NewListForm';\n\n\nconst UserSideMenu = ({ userState, setPageView, onLogout }) => {\n\t\n\tconst [ newCatState, setNewCatState] = useState(false);\n  \tconst [ newListState, setNewListState] = useState(false);\n\n\tlet newCatDialog;\n\tlet newListDialog;\n\tif(newCatState) {\n\t  newCatDialog = (<ModalDialog show={ newCatState } setShowDialog={ setNewCatState }>\n\t         <NewCategoryForm \n\t          userState={ userState } \n\t          setDialog={ setNewCatState }\n\t          setPageView={ setPageView }\n\t          onLogout={ onLogout }\n\t          />\n\t      </ModalDialog>);\n\t}\n\tif(newListState){\n\t  newListDialog = (<ModalDialog show={ newListState } setShowDialog={ setNewListState }>\n\t         <NewListForm \n\t          userState={ userState } \n\t          setDialog={ setNewListState } \n\t          setPageView={ setPageView }\n\t          onLogout={ onLogout }\n\t          />\n\t      </ModalDialog>);\n\t}\n\n\tconst goToPost = () => {\n\t\tsetPageView({ reqData:null, view:pageType.POST_ITEM });\n  \t};\n\n\treturn(\n\t\t<div className=\"sidebar-module-top\">\n\t\t\t<CreateButtonSide text=\"New Category\" onClick={ () => setNewCatState(true) } />\n\t\t\t<CreateButtonSide text=\"New List\" onClick={ () => setNewListState(true) } />\n\t\t\t<CreateButtonSide text=\"New Item\" onClick={ goToPost } />\n\t\t\t<MyPageButton\n\t\t\t\tuserState={ userState }  \n\t\t\t\tsetPageView={ setPageView }  \n\t\t\t>My Page</MyPageButton>\n\t\t\t{newCatDialog}\n      \t\t{newListDialog}\n\t\t</div>\n\t);\n};\n\nexport default UserSideMenu;","import React, { useState, useEffect } from 'react';\nimport { fetchCategories } from '../../controller/services';\nimport pageType from '../../controller/page-types';\nimport sort from '../../controller/sort';\nimport Title from '../../shared/Title';\nimport PageInfoText from '../../shared/PageInfoText';\n\nconst CategorySideMenu = ({ userState, pageView, setPageView }) => {\n\n  const [ categories, setCategories ] = useState(null);\n  const [ isOwner, setIsOwner] = useState(false);\n\n  useEffect( () => {\n    if(pageView.reqData){\n      const pageUser = pageView.reqData.username;\n      setIsOwner(userState.username === pageUser);\n      fetchCategories(pageUser)\n      .then( responseJson => {\n          setCategories(sort.sortBy({ array:responseJson.data, sortby:'categoryName', ascend:true }));\n      })\n      .catch( (err) => {\n         // the error will be catched at the same time render the main content\n      });\n    }\n  }, [pageView, userState]);\n\n  const goToCategory = ({ username, categoryId, categoryName }) => {\n    const reqData = { username, categoryId, categoryName };\n    setPageView({ reqData, view:pageType.SINGLE_CAT });\n  };\n\n  const goToEditCategory = () => {\n    const reqData = { username: userState.username };\n    setPageView({ reqData, view:pageType.EDIT_CAT });\n  };\n\n  let categoryList;\n  if(categories){\n    categoryList = categories.map( ({ username, categoryId, categoryName, listCount }) => {\n      return ( \n        <li \n          key={categoryId} \n          className=\"link\" \n          onClick={ () => goToCategory({ username, categoryId, categoryName }) }>\n          {categoryName}({listCount})\n        </li>\n      );\n    });\n  }\n\n  let showEdit;\n  if(isOwner){\n    showEdit = <li className=\"edit-cat link\" onClick={ goToEditCategory }>Edit Category</li>\n  }\n\n  let content;\n  if(categories){\n    content = (<div className=\"sidemenu-block\">\n            <Title className=\"sidemenu-title\">{pageView.reqData.username}'s Categories</Title>\n            <ul className=\"side-menu-list\">{categoryList}{showEdit}</ul> \n          </div>);\n  }\n\n  return (\n    <div>\n      <div className=\"sidebar-module\">\n        {content}\n      </div>\n    </div>\n  );\n};\n\nexport default CategorySideMenu;","import React from 'react';\nimport pageType from '../../controller/page-types';\nimport PageInfoText from '../../shared/PageInfoText'\nimport HomePageButton from '../../shared/HomePageButton';\nimport LoginForm from '../login/LoginForm';\nimport UserSideMenu from './UserSideMenu';\nimport CategorySideMenu from './CategorySideMenu';\n\n\nconst SideBar = ({ userState, onLogin, pageView, setPageView, onLogout }) => {\n\t\n\tlet userPanel;\n\t//if not loggedIn, show log in form\n\tif(userState){\n\t\tif(!userState.isLoggedIn){\n\t\t\tuserPanel = <LoginForm \n\t\t\t\tonLogin={ onLogin } \n\t\t\t\tsetPageView={ setPageView }/>;\n\t\t} else {\n\t\t\tuserPanel = <UserSideMenu \n\t\t\t\tuserState={ userState }\n\t\t\t\tsetPageView={ setPageView }\n\t\t\t\tonLogout={ onLogout }\n\t\t\t\t/>;\n\t\t}\t\n\t} else{\n\t\tuserPanel = <PageInfoText>loading...</PageInfoText>;\n\t}\n\n\tlet categorySideMenu;\n\tif(pageView.view === pageType.USER_VIEW || pageView.view === pageType.USER_SELF){\n\t\tcategorySideMenu = <CategorySideMenu \n\t\t\t\tuserState={ userState }\n\t\t\t\tpageView={ pageView }\n\t\t\t\tsetPageView={ setPageView}\n\t\t\t/>;\n\t}\n\n\tlet homeButton;\n\tif(pageView.view !== pageType.INDEX){\n\t\thomeButton = <div className=\"sidebar-module\">\n\t\t\t\t<HomePageButton setPageView={ setPageView }>\n\t\t\t\t Home\n\t\t\t\t </HomePageButton>\n\t\t\t</div>\n\t}\n\n\treturn(\n\t\t<div className=\"side-bar\">\n\t\t\t{userPanel}\n\t\t\t{homeButton}\n\t\t\t{categorySideMenu}\n\t\t</div>\n\t);\n};\n\nexport default SideBar;","import React, { useState } from 'react';\n\nconst SearchBar = ({ setKeywords }) => {\n\n  const [ text, setText ] = useState('');\n\n  const handleEnterKey = (e) => {\n  \tconst code = e.keyCode || e.which;\n    if(code === 13) { \n    \tsetKeywords(text);\n    } \n  };\n\n  return (\n      <div className=\"search-bar\">\n        <input \n        \tclassName=\"search-bar-input\" \n        \tplaceholder=\"search collections\" \n        \tonChange={ (e) => setText(e.target.value) }\n        \tonKeyPress={ handleEnterKey }/>\n        <i className=\"material-icons search-icon\" onClick={ () => setKeywords(text) }>search</i>\n        </div>\n  );\n\n};\n\nexport default SearchBar;","import React, { useState, useEffect } from 'react';\nimport { fetchSingleCategory } from '../../controller/services';\nimport pageType from '../../controller/page-types';\nimport sort from '../../controller/sort';\n\n// list info with 5 item-thumbnails\nconst ListTile = ({ list, setPageView, onError }) => {\n\n  const [ categoryName, setCategoryName ] = useState('');\n\n  useEffect( () => {\n    fetchSingleCategory({ username: list.username, categoryId: list.categoryId })\n    .then( responseJson => {\n          setCategoryName(responseJson.data.categoryName);\n        })\n    .catch( (err) => {\n      onError(err);\n    });\n  });\n\n  const goToCategory = () => {\n    const reqData = { username:list.username, categoryId: list.categoryId, categoryName };\n    setPageView({ reqData, view:pageType.SINGLE_CAT });\n  };\n\n  const goToList = () => {\n    const reqData = { username:list.username, listId:list.listId };\n    setPageView({ reqData, view:pageType.SINGLE_LIST });\n  }\n\n  const goToUser = () => {\n    const reqData = { username: list.username };\n    setPageView({ reqData, view:pageType.USER_VIEW });\n  }\n\n  const goToItem = (itemId) => {\n    const reqData = { listId:list.listId, itemId };\n    setPageView({ reqData, view:pageType.SINGLE_ITEM });\n  };\n\n  let thumbnails;\n  if(list){\n    const items = Object.values(list.items);\n    if(items.length){\n      sort.sortBy({ array: items, sortby:'updated', ascend: false });\n      const topItems = items.slice(0,6);\n      thumbnails = topItems.map( item => {\n        return (\n          <li key={item.itemId}>\n            <img \n              className=\"listview-thumbnail\" \n              alt={ item.itemName } \n              src={ item.img }\n              onClick={ () => goToItem(item.itemId) } \n            />\n          </li> );\n      });\n    }\n  }\n\n  const date = new Date(list.updated);\n  const lastUpdated = date.toLocaleString('en-US');\n\n  const listCard = (\n        <div>\n          <div className=\"list-title link\" onClick={ goToList }>{list.listName}</div>\n          <div className=\"list-info-text-inline\">category:<span className=\"list-info-goto link\" onClick={ goToCategory }>{categoryName}</span></div>\n          <div className=\"list-info-text-inline\">from:<span className=\"list-info-goto link\" onClick={ goToUser }>{list.username}</span></div>\n          <ul className=\"listview-img-group\">\n            {thumbnails}\n          </ul>\n          <div className=\"list-info-text\">Total item: <span className=\"item-count-info\">{list.itemCount}</span></div>\n          <div className=\"list-info-text\">Last updated: {lastUpdated}</div>\n       </div>\n  );\n\n  return (\n        <li className=\"list-tile\">{ listCard }</li>\n  );\n\n};\n\nexport default ListTile;","import React, { useState, useEffect } from 'react';\nimport sort from '../../controller/sort';\nimport PageInfoText from '../../shared/PageInfoText';\nimport ListTile from './ListTile';\n\nconst ListView = ({ sortby, isAscend, filter, listData, setPageView, onError }) => {\n\n  const [ displayLists, setDisplayLists ] = useState(null);\n\n  useEffect( () => {\n    if(listData) {\n      let lists = listData;\n      if(filter){\n        lists = listData.filter( list => list.listName.toLowerCase().includes(filter.toLowerCase()) );\n      }\n      if(sortby){\n        sort.sortBy({ array: lists, sortby, ascend:isAscend });\n        // copy the array to trigger react re-render\n        lists = [...lists];\n      }\n      setDisplayLists(lists); \n    }\n  }, [listData, filter, sortby, isAscend]);  \n\n  let listsContent;\n  if(displayLists){\n    listsContent = displayLists.map( (list) => {\n      return <ListTile \n      key={list.listId} \n      list={ list } \n      setPageView={ setPageView }\n      onError={ onError }\n      />\n    });\n  }\n\n  let notFound;\n  if(filter && !displayLists.length){\n    notFound = <PageInfoText>no results found. \n    Take another pass with a different search term</PageInfoText>;\n  }  \n\n  return (\n      <div className=\"lists-display\">\n        <ul> {listsContent} </ul>\n        {notFound}\n      </div>\n  );\n\n};\n\nexport default ListView;\n","import React, { useState, useEffect } from 'react';\nimport { fetchAllLists } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport SearchBar from '../../shared/SearchBar';\nimport ListView from '../lists/ListView';\n\nconst IndexView = ({ setPageView }) => {\n\n  const [ error, setError ] = useState('');\n  const [ listData, setListData] = useState(null);\n  const [ keywords, setKeywords] = useState('');\n\n  useEffect( () => {\n    setError('');\n    fetchAllLists()\n    .then( responseJson => {\n      setListData(responseJson.data);\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n    });\n  }, []);\n\n  const setErrorMessage = (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n  };\n\n  let listView;\n  if(listData) {\n    listView = (<ListView \n          sortby={ 'updated' }\n          isAscend={ false }\n          listData={ listData } \n          filter={ keywords } \n          setPageView={ setPageView }\n          onError={ setErrorMessage } \n          />\n        );\n  }\n\n  let errorBox;\n  errorBox = (<div>\n            <div className={ (error? \"\" : \"hidden\") + \" error-box\"}>\n                <div className=\"error-title\">Sorry!</div>\n                {error}\n            </div>\n        </div>);\n\n  return (\n      <div>\n        {errorBox}\n        <SearchBar setKeywords={ setKeywords }/>\n        {listView}\n      </div>\n  );\n\n};\n\nexport default IndexView;\n","import React, { useState, useEffect } from 'react';\n\nconst ListSortMenu = ({ setSortby, setIsAscend }) => {\n    // default: updated time descending order\n    const [ sortCondition, setSortCondition ] = useState('{ \"sortby\":\"updated\", \"ascend\":false }');\n\n    useEffect( () => {\n        const sortValue = JSON.parse(sortCondition);\n        setSortby(sortValue.sortby);\n        setIsAscend(sortValue.ascend);\n    },[sortCondition, setSortby, setIsAscend]);\n\n    const handleChange = (e) => {\n        setSortCondition(e.target.value);\n    };\n\n    return (\n        <div className=\"sort-selecter\">\n            <label>Sort by: </label>\n            <select value={ sortCondition } onChange={ handleChange }>\n                <option value='{ \"sortby\":\"listName\", \"ascend\":true }'>list name ascending</option>\n                <option value='{ \"sortby\":\"listName\", \"ascend\":false }'>list name descending</option>\n                <option value='{ \"sortby\":\"updated\", \"ascend\":false }'>last updated</option>\n                <option value='{ \"sortby\":\"created\", \"ascend\":false }'>new created</option>\n                <option value='{ \"sortby\":\"itemCount\", \"ascend\":false }'>total item</option>\n            </select>\n        </div>\n        );\n\n};\n\nexport default ListSortMenu;","import React, { useState, useEffect } from 'react';\nimport { fetchListsBy } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport Title from '../../shared/Title';\nimport ListView from '../lists/ListView';\nimport ListSortMenu from '../lists/ListSortMenu';\n\nconst UserPageView = ({ userState, pageView, setPageView, onLogout }) => {\n\n  const [ error, setError ] = useState('');\n  const [ isOwner, setIsOwner] = useState(false);\n  const [ listData, setListData] = useState(null);\n  const [ sortby, setSortby ] = useState('updated');\n  const [ isAscend, setIsAscend ] = useState(false); \n\n  useEffect( () => {\n    if(pageView.reqData){\n      const pageUser = pageView.reqData.username;\n      const query = `username=${pageUser}`; \n      setError('');\n      fetchListsBy(query)\n      .then( responseJson => {\n        setListData(responseJson.data);\n      })\n      .catch( (err) => {\n        setError(errorMessages[err.code || 'DEFAULT']);\n        if(err.status === 401){\n          onLogout();\n        }\n      });\n    }\n  }, [pageView]);\n\n  useEffect(() => {\n    if(pageView.reqData){\n      setIsOwner(userState.username === pageView.reqData.username);\n    }\n  },[pageView, userState]);\n\n  const setErrorMessage = (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n  };\n\n  let listSortMenu;\n  if(isOwner){\n    listSortMenu = <ListSortMenu \n          setSortby={ setSortby }\n          setIsAscend={ setIsAscend } \n        />;\n  }\n\n  let listView = (<ListView\n          sortby={ sortby }\n          isAscend={ isAscend }  \n          listData={ listData } \n          setPageView={ setPageView } \n          onError={ setErrorMessage }\n        />);\n\n  let content;\n  if(listData){\n    content = <div>\n        <Title className=\"view-title\">{pageView.reqData.username}'s Collections</Title>\n        {listSortMenu}\n        {listView}\n        </div>;\n  }\n\n  let errorBox;\n  errorBox = (<div>\n            <div className={ (error? \"\" : \"hidden\") + \" error-box\"}>\n                <div className=\"error-title\">Sorry!</div>\n                {error}\n            </div>\n        </div>);\n\n  return (\n      <div>\n        {errorBox}\n        {content}\n      </div>\n  );\n  \n};\n\nexport default UserPageView;","import React, { useState, useEffect } from 'react';\nimport { fetchListsBy } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport ListView from '../lists/ListView';\nimport Title from '../../shared/Title';\n\nconst CategoryView = ({ userState, pageView, setPageView, onLogout }) => {\n\n  const [ error, setError ] = useState('');\n  const [ listData, setListData] = useState(null);\n  const collector = pageView.reqData.username;\n  const categoryName = pageView.reqData.categoryName;\n\n  useEffect( () => {\n    const categoryId = pageView.reqData.categoryId;\n    const query = `categoryId=${categoryId}`;\n    setError('');\n    fetchListsBy(query)\n    .then( responseJson => {\n      setListData(responseJson.data);\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n      if(err.status === 401){\n        onLogout();\n      }\n    });\n  }, [pageView]);\n\n  const setErrorMessage = (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n  };\n\n  let content;\n  if(listData){\n    content = (<div>\n            <Title className=\"view-title\">{collector}'s {categoryName} Collections</Title>\n            <ListView \n              listData={ listData }\n              setPageView={ setPageView } \n              onError={ setErrorMessage }\n            />\n          </div>);\n  }\n\n  let errorBox;\n  errorBox = (<div>\n            <div className={ (error? \"\" : \"hidden\") + \" error-box\"}>\n                <div className=\"error-title\">Sorry!</div>\n                {error}\n            </div>\n        </div>);  \n\n\n  return (\n      <div>\n        {errorBox}\n        {content}\n      </div>\n  );\n\n};\n\nexport default CategoryView;","import React, { useState, useEffect } from 'react';\nimport { fetchSingleCategory, updateSingleList } from '../../controller/services';\nimport pageType from '../../controller/page-types';\nimport Title from '../../shared/Title';\nimport CreateButtonDialog from '../../shared/CreateButtonDialog';\nimport CategorySelectMenu from '../to-add/CategorySelectMenu';\n\nconst ListInfo = ({ userState, isOwner, list, isEditMode, setIsEditMode, setPageView, setUpdateList, onError }) => {\n\n  const oldCatId = list.categoryId;\n  const [ listName, setListName ] = useState(list.listName);\n  const [ categoryId, setCategoryId ] = useState(list.categoryId);\n  const [ categoryName, setCategoryName ] = useState('');\n  const [ description, setDescription ] = useState(list.description);\n\n  useEffect( () => {\n    fetchSingleCategory({ username:list.username, categoryId: list.categoryId })\n    .then( responseJson => {\n      setCategoryName(responseJson.data.categoryName);\n    })\n    .catch( (err) => {\n      console.log(\"set error for listInfo\");\n      onError(err);\n    });\n  }, [list, onError]);\n\n  const goToCategory = () => {\n    const reqData = { username:list.username, categoryId: list.categoryId, categoryName: categoryName };\n    setPageView({ reqData, view:pageType.SINGLE_CAT });\n  };\n\n  const goToUser = () => {\n    const reqData = { username: list.username };\n    setPageView({ reqData, view:pageType.USER_VIEW });\n  }\n\n  const replaceList = () => {\n    if(!listName || !listName.trim()){\n      onError({ code:\"INPUT_REQUIRED\" });\n      return;\n    }\n    const username = userState.username;\n    const newList = {\n      ...list,\n      listName, \n      description, \n      categoryId,\n    };\n\n    updateSingleList({ username, oldCatId, listId:list.listId, list:newList })\n    .then( () => {\n      // update this page view\n      setIsEditMode(false);\n      setUpdateList();\n    })\n    .catch( (err) => {\n      console.log(\"set error in replacelist\");\n      onError(err);\n    });\n  };\n\n  const cancelEdit = () => {\n    onError({ code: \"CLEAR\" });\n    setIsEditMode(false);\n  }\n\n  const listInfoPanel = (<div>\n    <Title className=\"view-title list-detail-title\">{list.listName}</Title>\n    <div className=\"list-info-text-inline\">category:<span className=\"list-info-goto link\" onClick={ goToCategory }>{categoryName}</span></div>\n    <div className=\"list-info-text-inline\">from:<span className=\"list-info-goto link\" onClick={ goToUser }>{list.username}</span></div>      \n    <div className=\"list-description\">{list.description}</div>\n  </div>);\n\n  const editListPanel = (<div>\n    <input value={ listName } className=\"list-detail-title\" onChange={ (e) => setListName(e.target.value) }/>\n    <CategorySelectMenu\n      username={ userState.username }\n      categoryId={ categoryId }\n      setCategoryId={ setCategoryId }\n      onError={ onError }\n    />\n    <textarea className=\"list-description-textarea\"\n      value={description} \n      onChange={ (e) => setDescription(e.target.value) } />\n    <CreateButtonDialog text=\"submit\" onClick={ replaceList }/>\n    <CreateButtonDialog text=\"cancel\" onClick={ cancelEdit } />\n  </div>);\n\n  return (\n      <div className=\"list-info\">\n        { isEditMode ? \n          editListPanel :\n          listInfoPanel\n        }\n      </div>\n  );\n\n};\n\nexport default ListInfo;","import React from 'react';\n\nconst EditButton = ({ text, onClick }) => {\n\treturn(\n\t\t<button className=\"edit-button\" onClick={ onClick }>\n\t\t\t<i className=\"material-icons\">edit</i>{text}\n\t\t</button>\n\t);\n};\n\nexport default EditButton;","import React from 'react';\n\nconst CreateButtonMain = ({ text, onClick }) => {\n\treturn(\n\t\t<button className=\"create-button-main\" onClick={ onClick }>\n\t\t\t<i className=\"material-icons\">post_add</i>{text}\n\t\t</button>\n\t);\n};\n\nexport default CreateButtonMain;","import React, { useState, useEffect } from 'react';\nimport { deleteSingleList } from '../../controller/services';\nimport pageType from '../../controller/page-types';\nimport EditButton from '../../shared/EditButton';\nimport CreateButtonMain from '../../shared/CreateButtonMain';\n\nconst ListController = ({ userState, list, isDisabled, isDeleteMode, setIsEditMode, setIsDeleteMode, setPageView, onError }) => {\n\n  const [ buttonText, setButtonText ] = useState('Delete Items');\n\n  useEffect( () => {\n    if(isDisabled){\n      setButtonText('Delete Items')\n    } else{\n        if(isDeleteMode){\n          setButtonText('Cancel');\n        } else {\n          setButtonText('Delete Items');\n        } \n    }\n  },[isDeleteMode, isDisabled]);\n\n  const toggleDelete = () => {\n    setIsDeleteMode(!isDeleteMode);\n  };\n\n  const deleteList = () => {\n    deleteSingleList({ username: userState.username, listId:list.listId })\n    .then( () => {\n      goToMyPage();\n    })\n    .catch( (err) => {\n      onError(err);\n      goToMyPage();\n    });\n  }\n\n  // after delete the list\n  const goToMyPage = () => {\n    const reqData= { username: userState.username };\n    setPageView({ reqData, view:pageType.USER_SELF });\n  };\n\n  const goToPost = () => {\n    const reqData = { listId: list.listId, categoryId: list.categoryId };\n    setPageView({ reqData, view:pageType.POST_ITEM });\n  };\n\n  const editButton = <EditButton text=\"Edit list\" onClick={ () => setIsEditMode(true) }/>\n  const addButton = <CreateButtonMain text=\"Add new item\" onClick={ goToPost } />;\n  const deleteListButton = <button className=\"list-delete-button\" onClick={ deleteList }>\n    <i className=\"material-icons delete-button-icon\">delete</i>\n    Delete List</button>;\n  const deleteItemsButton = <button className=\"list-delete-button\" onClick={ toggleDelete } disabled={isDisabled}>\n     <i className=\"material-icons delete-button-icon\">delete</i>\n    {buttonText}</button>;\n\n  return (\n      <div className=\"list-menu\">\n        <div className=\"list-menu-module\">\n          {editButton}\n          {addButton}\n        </div>\n        <div className=\"list-menu-module\">\n          {deleteListButton}\n          {deleteItemsButton}\n        </div>\n      </div>\n  );\n\n};\n\nexport default ListController;","import React from 'react';\nimport { deleteItem } from '../../controller/services';\nimport pageType from '../../controller/page-types';\nimport placeholder from '../../assets/placeholder.jpg';\n\nconst ItemThumbnail = ({ userState, item, isDeleteMode, setUpdateList, setPageView, onError }) => {\n\n  const listId = item.listId;\n  const itemId = item.itemId;\n  const img = item.img;\n  const itemName = item.itemName;\n\n  const removeItem = () => {\n    deleteItem({ username: userState.username, listId, itemId })\n    .then( () => {\n      setUpdateList();\n    })\n    .catch( (err) => {\n      onError(err);\n    });\n  }\n  \n  const goToItem = () => {\n    const reqData = { listId, itemId };\n    setPageView({ reqData, view:pageType.SINGLE_ITEM });\n  };\n\nlet displayImg;\nif(img){\n  displayImg = (<img \n                    className=\"thumbnail\" \n                    alt={itemName} \n                    src={ img }\n                    onClick={ goToItem } \n                /> \n                );\n} else {\n  displayImg = <img className=\"thumbnail\" alt=\"placeholder\" src={ placeholder }/>;\n}\n\n\nconst itemDisplay = \n    <li className=\"thumbnail-item\">\n      <div className=\"item-pic\">\n        { displayImg }\n        <i className={ (isDeleteMode? \"\":\"hidden\") + \" material-icons item-delete-icon\" } \n        onClick={ removeItem }>clear</i>\n      </div>\n      <div className=\"thumbnail-item-title link\" onClick={ goToItem } >\n        {itemName}\n      </div>\n    </li>;\n\n  return itemDisplay;\n\n};\n\nexport default ItemThumbnail;","import React, { useState, useEffect } from 'react';\nimport sort from '../../controller/sort';\nimport PageInfoText from '../../shared/PageInfoText';\nimport ItemThumbnail from './ItemThumbnail';\n\nconst ItemGroup = ({ userState, itemData, isDeleteMode, setIsDisabled, setPageView, setUpdateList, onError }) => {\n\n  const [ items, setItems ] = useState(null);\n  const [ sortby, setSortby ] = useState('updated');\n  const [ isAscend, setIsAscend ] = useState(false); // default descending\n\n  useEffect( () => {\n    sort.sortBy({ array: itemData, sortby, ascend: isAscend });\n    setItems([ ...itemData ]);\n  },[sortby, isAscend, itemData]);\n\n// if there is no item, disable the deleteItemsButton\n  useEffect( () => {\n    if(!items || !items.length ){\n      setIsDisabled(true);\n    } else {\n      setIsDisabled(false);\n    }\n  },[items, setIsDisabled]);\n\n  let itemsDisplay;\n  let pageInfo;\n  if(items){\n    itemsDisplay = items.map( (item) => {\n          return (\n            <ItemThumbnail \n              key={ item.itemId }\n              userState={ userState }\n              item={ item }\n              isDeleteMode={ isDeleteMode} \n              setUpdateList={ setUpdateList }  \n              setPageView={ setPageView }\n              onError={ onError }/>\n          );\n    });\n    if(!items.length){\n      pageInfo = <PageInfoText>There are no items yet</PageInfoText>;\n    }\n  }\n\n  return (\n        <div className=\"item-group\">\n          {pageInfo}\n          <ul className=\"items-display\">\n            { itemsDisplay }\n          </ul>\n        </div>\n  );\n\n};\n\nexport default ItemGroup;","import React, { useState, useEffect } from 'react';\nimport { fetchSingleList } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport ListInfo from '../lists/ListInfo';\nimport ListController from '../lists/ListController';\nimport ItemGroup from '../items/ItemGroup';\n\nconst ListDetailView = ({ userState, pageView, setPageView }) => {\n\n  const [ error, setError ] = useState('');\n  const [ list, setList] = useState(null);\n  const [ isOwner, setIsOwner] = useState(false);\n  const [ updateList, setUpdateList ] = useState(false);\n  const [ isEditMode, setIsEditMode ] = useState(false);\n  const [ isDisabled, setIsDisabled ] = useState(false);\n  const [ isDeleteMode, setIsDeleteMode ] = useState(false);\n\n  useEffect( () => {\n    setIsOwner(userState.username === pageView.reqData.username);\n    setError('');\n    fetchSingleList(pageView.reqData.listId)\n    .then( responseJson => {\n      setList(responseJson.data);\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n    });\n  }, [pageView, userState, updateList]);\n\n  const toggleFlag = () => {\n    setUpdateList(!updateList);\n  }\n\n  const setErrorMessage = (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n  };\n\n  let listInfo;\n  if(list){\n    listInfo = (<ListInfo \n          userState={ userState }\n          isOwner={ isOwner }\n          list={ list }\n          isEditMode={ isEditMode }\n          setIsEditMode={ setIsEditMode }\n          setUpdateList={ setUpdateList }\n          setPageView= { setPageView } \n          onError={ setErrorMessage }\n          />);\n  }\n\n  let itemGroup;\n  if(list && list.items){\n    const itemData = Object.values(list.items);\n    itemGroup = (<ItemGroup \n          userState={ userState }\n          isOwner={ isOwner }\n          listId={ list.listId } \n          itemData={ itemData }\n          isDeleteMode={ isDeleteMode }\n          setIsDisabled={ setIsDisabled }\n          setPageView= { setPageView }\n          setUpdateList={ toggleFlag }\n          onError={ setErrorMessage } \n        />);\n  }\n\n  let listController;\n  if(isOwner){\n     listController = (<ListController \n                userState={ userState }\n                list={ list }\n                isDisabled={ isDisabled }\n                isDeleteMode={ isDeleteMode }\n                setIsEditMode={ setIsEditMode }\n                setIsDeleteMode={ setIsDeleteMode }\n                setPageView= { setPageView }\n                onError={ setErrorMessage }\n              />);\n  }\n\n  let errorBox;\n  errorBox = (<div>\n            <div className={ (error? \"\" : \"hidden\") + \" error-box\"}>\n                <div className=\"error-title\">Sorry!</div>\n                {error}\n            </div>\n        </div>);\n\n  return (\n      <div>\n        {errorBox}\n        {listInfo}\n        {listController}\n        {itemGroup}\n      </div>\n  );\n\n};\n\nexport default ListDetailView;","import React, { useState, useEffect } from 'react';\nimport { fetchSingleItem,fetchSingleList } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport pageType from '../../controller/page-types';\nimport EditButton from '../../shared/EditButton';\nimport placeholder from '../../assets/placeholder.jpg';\n\nconst ItemDetailView = ({ userState, pageView, setPageView, onLogout }) => {\n\n  const [ error, setError ] = useState('');\n  const [ item, setItem ] = useState(null);\n  const [ listName, setListName ] = useState('');\n  const [ itemOwner, setItemOwner ] = useState('');\n  const [ isOwner, setIsOwner] = useState(false);\n\n  useEffect( () => {\n    const listId = pageView.reqData.listId;\n    const itemId = pageView.reqData.itemId;\n    setError('');\n    fetchSingleItem({ listId, itemId })\n    .then( responseJson => {\n      setItem(responseJson.data);\n      fetchListName(listId);\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n      if(err.status === 401){\n        onLogout();\n      }\n    });\n  },[pageView]);\n\n  useEffect( () => {\n    if(itemOwner){\n      setIsOwner(userState.username === itemOwner);\n    }\n  },[itemOwner]);\n\n  const fetchListName = (listId) => {\n    return fetchSingleList(listId)\n      .then( responseJson => {\n            setListName(responseJson.data.listName);\n            setItemOwner(responseJson.data.username);\n      })\n      .catch( (err) => {\n        setError(errorMessages[err.code || 'DEFAULT']);\n      });\n  };\n\n  const goToList = () => {\n    const reqData = { username:itemOwner, listId:item.listId };\n    setPageView({ reqData, view:pageType.SINGLE_LIST });\n  };\n\n  const goToUser = () => {\n    const reqData = { username: itemOwner };\n    setPageView({ reqData, view:pageType.USER_VIEW });\n  };\n\n  const goToEditItem = () => {\n    setPageView({ reqData:null, view:pageType.EDIT_ITEM });\n  };\n\n\n  let itemDetail;\n  if(item){\n    itemDetail = (\n      <div>\n        {item.img ?\n          <img className=\"item-img\" alt={item.itemName} src={ item.img }/> : \n          <img className=\"item-img\" alt=\"placeholder\" src={ placeholder }/>\n         }\n        <div className=\"item-title\">{item.itemName}</div>\n        <div className=\"item-info-text link\" onClick={ goToList }>{listName}</div>\n        <div className=\"item-info-text link\" onClick={ goToUser }>from: {itemOwner}</div>\n        <div className=\"item-description\">{item.description}</div>\n      </div>\n      );\n  }\n\n  let editButton;\n  if(isOwner){\n    editButton = (<div className=\"item-edit-button\">\n            <EditButton text=\"Edit\" onClick={ goToEditItem }/>\n          </div>);\n  }\n\n  let errorBox;\n  errorBox = (<div>\n            <div className={ (error? \"\" : \"hidden\") + \" error-box\"}>\n                <div className=\"error-title\">Sorry!</div>\n                {error}\n            </div>\n        </div>);  \n\n  return (\n        <div>\n         {errorBox}\n          <div>{ itemDetail }</div>\n          { editButton }\n        </div>\n  );\n\n};\n\nexport default ItemDetailView;","import React,{ useState, useEffect } from 'react';\n\nconst ListSelectMenu = ({ lists, listId, setListId, onError }) => {\n\n    const [ selected, setSelected ] = useState('');\n\n    // select the first list or report no list option when lists changed\n    useEffect( () => {\n        onError({ code: \"CLEAR\"});\n        if(lists && lists.length) {\n            if (!selected) {\n               setSelected(lists[0].listId); \n            }\n        } else { \n            setSelected('');\n            onError({ code: 'NO_LIST_IN_CAT'});\n        }\n    },[lists]);\n\n    // if the list has been set(when adding from a list page)\n    // select it only when componentDidMount\n    useEffect( () => {\n        if(listId) {\n            setSelected(listId);\n        }\n    },[]);\n\n    useEffect( () => {\n        setListId(selected);\n    },[setListId,selected]);\n\n    const handleChange = (e) => {\n        setSelected(e.target.value); \n    };\n\n    let menu;\n    if(lists){\n    \tconst options = lists.map( (list) => {\n    \t\treturn <option key={list.listId} value={list.listId}>{list.listName}</option>\n    \t});\n    \tmenu = (<select className=\"list-select\" value={ selected } onChange={ handleChange }>\n                \t{options}\n            \t</select>);\n    }\n\n\treturn(\n\t\t<div className=\"list-selector\">\n\t\t\t{menu}\n        </div>\n\t);\n};\n\nexport default ListSelectMenu;","import React, { useState,useEffect } from 'react';\nimport { fetchListsBy } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport MandatoryIcon from '../../shared/MandatoryIcon';\nimport CategorySelectMenu from './CategorySelectMenu';\nimport ListSelectMenu from './ListSelectMenu';\n\n\nconst CatListSelectGroup = ({ userState, categoryId, listId, setCategoryId, setListId, onError }) => {\n\n  const [ listError, setListError ] = useState('');\n  const [ lists, setLists ] = useState(null);\n\n  const setErrorMessage = (err) => {\n    setListError(errorMessages[err.code || 'DEFAULT']);\n  }\n\n  // render list select menu only after categoryId is set\n  useEffect( () => {\n    if(categoryId){\n        const query = `categoryId=${categoryId}`;\n        fetchListsBy(query)\n        .then( responseJson => {\n            setLists(responseJson.data);\n        })\n        .catch( (err) => {\n          onError(err);\n        });\n    }\n  },[categoryId, onError]);\n\n  let listSelectMenu; \n  if(lists){\n    listSelectMenu = (<ListSelectMenu \n                lists={ lists }\n                listId={ listId }\n                setListId={ setListId }\n                onError={ setErrorMessage } \n            />);\n\n  } else{\n    listSelectMenu = <p>loading list...</p>\n  }\n\n  return (\n      <div className=\"cat-list-menu\">\n           <label className=\"form-label\"><MandatoryIcon />category: </label>\n          <CategorySelectMenu \n            username={ userState.username }\n            categoryId={ categoryId }\n            setCategoryId={ setCategoryId }\n            onError={ onError }\n          />\n           <label className=\"form-label\"><MandatoryIcon />list: </label>\n           {listSelectMenu}\n           {listError}\n      </div>\n  );\n\n};\n\nexport default CatListSelectGroup;\n","import React, { useState,useEffect } from 'react';\nimport { fetchLoginStatus, addItem } from '../../controller/services';\nimport errorMessages from '../../controller/error-messages';\nimport ErrorBox from '../../shared/ErrorBox';\nimport pageType from '../../controller/page-types';\nimport CreateButtonDialog from '../../shared/CreateButtonDialog';\nimport MandatoryIcon from '../../shared/MandatoryIcon';\nimport placeholder from '../../assets/placeholder.jpg';\nimport CatListSelectGroup from './CatListSelectGroup';\n\nconst NewItemForm = ({ userState, pageView, setPageView }) => {\n\n  const [ error, setError ] = useState('');\n  const [ itemName, setItemName ] = useState('');\n  const [ description, setDescription ] = useState('');\n  const [ categoryId, setCategoryId ] = useState(null);\n  const [ listId, setListId ] = useState(null);\n  const [ preview, setPreview ] = useState(placeholder);\n\n  useEffect( () => {\n    setError('');\n    fetchLoginStatus()\n    .then( responseJson => {\n      if(responseJson.data.username !== userState.username){\n        setError(errorMessages.ACTION_NOT_PERMITTED);\n      }\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n    });\n    // if the category has been passed\n    if(pageView.reqData){\n      setListId(pageView.reqData.listId);\n      setCategoryId(pageView.reqData.categoryId);\n    }\n  },[pageView, userState]);\n\n  const setErrorMessage = (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n  };\n\n  const addNewItem = () => {\n    if(!itemName || !itemName.trim()) {\n      setError(errorMessages.INPUT_REQUIRED);\n      return;\n    }\n    const item = {\n      itemName,\n      description,\n      listId,\n      img:preview,\n    };\n    console.log(listId);\n    setError('');\n    addItem({ username: userState.username, listId, item })\n    .then( (responseJson) => {\n      // go to item detail page after posting\n      const reqData = { listId, itemId: responseJson.data.itemId };\n      setPageView({ reqData, view:pageType.SINGLE_ITEM });\n    })\n    .catch( (err) => {\n      setError(errorMessages[err.code || 'DEFAULT']);\n    });\n  };\n\n  const convertImage = (e) => {\n    const reader = new FileReader();\n    reader.onload = function() {\n      setPreview(reader.result);\n      console.log(\"preview: \" + preview);\n    };\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  const title = <div className=\"view-title\">Create New Item</div>;\n  const uploadImg = (<div className=\"uploadImg-group\">\n            <img className=\"img-preview\" alt=\"preview\" src={ preview } />\n            <div className=\"preview-text\">preview</div>\n            <input type=\"file\" text=\"upload Image\" className=\"upload-input\" onChange={ convertImage }/>\n        </div>);\n\n  const inputArea = (<div>\n              <MandatoryIcon /><label>item name: </label>\n              <input className=\"item-name-input\" value={itemName} onChange={ (e) => setItemName(e.target.value) } />\n              <CatListSelectGroup \n                userState={ userState }\n                categoryId={ categoryId }\n                listId={ listId }\n                setCategoryId={ setCategoryId }\n                setListId={ setListId }\n                onError={ setErrorMessage } \n              />\n              <label className=\"form-label\">description: </label>\n              <textarea rows=\"5\" cols=\"30\" value={description} onChange={ (e) => setDescription(e.target.value) } />\n        </div>);\n\n  const addButton = <CreateButtonDialog text=\"add\" onClick={ addNewItem } />;\n\n  let errorBox;\n  errorBox = (<div>\n            <div className={ (error? \"\" : \"hidden\") + \" error-box\"}>\n                <div className=\"error-title\">Sorry!</div>\n                {error}\n            </div>\n        </div>);  \n\n  return (\n      <div className=\"add-item-form\">\n        {errorBox}\n        <div className=\"title-area\">{title}</div>\n        <div className=\"add-all\">\n          <div className=\"add-left\">\n            {uploadImg}\n          </div>\n          <div className=\"add-right\">\n            {inputArea}\n          </div>\n        </div>\n        <div className=\"post-item-button\">\n          {addButton}\n        </div>\n      </div>\n  );\n\n};\n\nexport default NewItemForm;\n","import React,{ useEffect } from 'react';\nimport pageType from '../../controller/page-types';\nimport PageInfoText from '../../shared/PageInfoText';\nimport IndexView from './IndexView';\nimport UserPageView from './UserPageView';\nimport CategoryView from './CategoryView';\nimport ListDetailView from './ListDetailView';\nimport ItemDetailView from './ItemDetailView';\nimport NewItemForm from '../to-add/NewItemForm';\n\nconst MainContent = ({ userState, pageView, setPageView, onLogout }) => {\n\n  let content;\n  switch(pageView.view) {\n    case pageType.INDEX :\n      content = <IndexView setPageView={ setPageView } />;\n      break;\n    case pageType.SINGLE_CAT:\n      content = <CategoryView\n        pageView={ pageView }\n        setPageView={ setPageView } \n        onLogout={ onLogout }/>\n      break;\n    case pageType.USER_SELF:\n      content = <UserPageView \n        userState={ userState } \n        pageView={ pageView } \n        setPageView={ setPageView } \n        onLogout={ onLogout } />;\n      break;\n    case pageType.USER_VIEW:\n      content = <UserPageView \n        userState={ userState } \n        pageView={ pageView } \n        setPageView={ setPageView } \n        onLogout={ onLogout } />;\n      break;\n    case pageType.SINGLE_LIST:\n      content = <ListDetailView \n        userState={ userState } \n        pageView={ pageView }\n        setPageView={ setPageView } />;\n      break;\n    case pageType.SINGLE_ITEM:\n      content = <ItemDetailView \n        userState={ userState } \n        pageView={ pageView }\n        setPageView={ setPageView } \n        onLogout={ onLogout }/>;\n      break;\n    case pageType.POST_ITEM:\n      content = <NewItemForm \n        userState={ userState } \n        pageView={ pageView }\n        setPageView={ setPageView } />;\n      break;\n    case pageType.EDIT_CAT:\n    case pageType.EDIT_ITEM:\n      content = <PageInfoText>Coming soon...</PageInfoText>;\n      break;\n    default: // default shows nothing\n      content = '';\n  }\n\n  return (\n      <div>\n        {content}\n      </div>\n  );\n\n};\n\nexport default MainContent;","import React,{ useState,useEffect } from 'react';\nimport './App.css';\nimport { fetchLoginStatus } from './controller/services';\nimport pageType from './controller/page-types';\n// import errorMessages from './controller/error-messages';\nimport Header from './modules/header/Header';\nimport SideBar from './modules/sidebar/SideBar';\nimport MainContent from './modules/content/MainContent';\nimport ModalDialog from './shared/ModalDialog';\nimport LoginForm from './modules/login/LoginForm';\n\nfunction App() {\n  const [ userState, setUserState ] = useState(null);\n  const [ theme, setTheme ] = useState('colorful');\n  const [ loginDialogState, setLoginDialogState ] = useState(false);\n  const [ pageView, setPageView ] = useState({ reqData: null, view:pageType.INDEX });\n\n  useEffect( () => {\n    fetchLoginStatus()\n    .then( responseJson => {\n      setUserState({\n        isLoggedIn: true,\n        username: responseJson.data.username,\n      });\n      setTheme(responseJson.data.theme);\n    })\n    .catch( (err) => {\n      setUserState({\n        isLoggedIn: false,\n        username: '',\n      });\n    });\n  }, []);\n\n  const login = (username) => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false,\n      username: '',\n    });\n  };\n\n  const setView = (view) => {\n    setPageView(view);\n  }; \n\nlet loginDialog;\nif(userState && !userState.isLoggedIn) {\n  loginDialog = (\n      <ModalDialog show={ loginDialogState } setShowDialog={ setLoginDialogState }>\n         <LoginForm \n          onLogin={ login } \n          setDialog={ setLoginDialogState } \n          openDialog={ true } \n          setPageView={ setView }\n         />\n      </ModalDialog>);\n}\n\n  return (\n    <div className=\"App\">\n      <Header \n        userState={ userState }\n        onLogout={ logout }\n        setPageView={ setView }\n        setLoginDialog = { setLoginDialogState } \n      />\n      <div className=\"main\">\n        <SideBar \n          userState={ userState }\n          onLogin={ login }\n          pageView={ pageView }\n          setPageView={ setView }\n          onLogout={ logout }\n        />\n        <div className=\"main-content\">\n          <MainContent \n            userState={ userState } \n            pageView={ pageView } \n            setPageView={ setView } \n            onLogout={ logout }\n          />\n        </div>\n      </div>\n      {loginDialog}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}